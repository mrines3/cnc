<html>
<head>
    <title>Georgia Tech Carbon Neutral Campus</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link href="./GTCNC.css" rel="stylesheet" type="text/css"/>
    <!--<link rel="stylesheet" href="/resources/demos/style.css">-->
</head>

<body class='cloak' style="background-color:rgb(0,17,34);overflow-x: hidden">
    <div class="container-fluid ml-2 mr-3 pr-3" id="tabs">
        <div id="siteHeader" class="row">
            <div class="my-auto pb-2">
                <div class="btn-group btn-group-toggle" role="group">
                    <button class="btn text-center activeTab" id="tab1" type="button" data-toggle="collapse" aria-pressed="true" href=".tabs-1"><h4>Growth Scenario</h4></button>
                    <button class="btn text-center inactiveTab" id="tab2" type="button" data-toggle="collapse" aria-pressed="false" href=".tabs-2"><h4>Energy & Emissions</h4></button>
                    <button class="btn text-center inactiveTab" id="tab3" type="button" data-toggle="collapse" aria-pressed="false" href=".tabs-3"><h4>Encyclopedia</h4></button>
                </div>
            </div>
        </div>
        <div class="row">
        <div class="collapse tabs-2" id="tabs-2Content" data-parent="#tabs">
          <font color="white">
          <div id="tab2Banner" class="container-fluid p-0" style="background-image: linear-gradient(to right, rgba(184,134,11,1) , rgba(184,134,11,.6));position:relative;width:100%">
              <div class="row">
                <div class="col-lg-3 text-center my-auto">
                    <h6>Total Emissions</h6>
                </div>
                <div class="col-lg-3 text-center">
                    <h6>2050 Emissions</h6>
                </div>
                <div class="col-lg-2 text-center">
                   <h6>2050 Cost</h6>
                </div>
                <div class="col-lg-2 text-center">
                    <h6>Total Cost</h6>
                </div>
                <div class="col-lg-2 text-center">
                    <h6>Calculation Period</h6>
                </div>
              </div>
              <div class="row">
                    <div class="col-lg-3 text-center">
                        <b><span id="totalEmissionsDisplay" type="number" style="font-size: 200%" disabled="true">0</span></b>
                        <i><label>kTons CO2e</label></i>
                    </div>
                    <div class="col-lg-3 text-center">
                        <b><span id="2050EmissionsDisplay" type="number" style="font-size: 200%" disabled="true">0</span></b>
                        <i><label style="position:relative;">kTons CO2e</label></i>
                    </div>
                    <div class="col-lg-2 text-center">
                        <b><span id="2050CostDisplay" type="number" style="font-size: 200%" disabled="true">0</span></b>
                        <i><label style="position:relative;">$MM</label></i>
                    </div>
                    <div class="col-lg-2 text-center">
                        <b><span id="totalCostDisplay" type="number" style="font-size: 200%" disabled="true">0</span></b>
                        <i><label style="position:relative;">$MM</label></i>
                    </div>
                    <div class="col-lg-2 text-center">
                        <input id="calculationPeriodSlider" type="range" value="33" min="0" max="33" step="1" style="position:relative;width:70px"/>
                        <b><span type="text" id="calculationPeriodSliderInput" style="font-size: 200%" disabled="true">33</span></b>
                        <i><label style="position:relative;">Years</label></i>
                    </div>
              </div>
              
          </div>
          </font>
          <div class="container-fluid w-100" style="position:relative;width:100%;margin-top:1%" >
            <font color='white'>
            <div class="row" style="display:flex;flex-wrap:wrap">                
                <div id="emissionsColumn" class="col-lg-4">
                    <h4 id="emissionsColumnHeader" class="text-center column-header">Climate Action Timeline</h4>
                    <div id="emissionsButtonsRow" class="row text-center" style="margin:2% 0% 3% 0%">
                        <div class="col-lg-4">
                            <button type="button" name="reScale" class="btn btn-sm btn-secondary" id="reScale" style="box-shadow:none;">Re-Scale</button>
                        </div>
                        <div class="col-lg-8" style="">
                            <div class="btn-group">
                                <button name="emissions" class="btn btn-sm yaxisSelected" id="emissionsWedgePlot" style="background-color:rgb(180,180,180);">Emissions</button>
                                <button name="energy" class="btn btn-sm yaxisSelected" id="energyWedgePlot" style="background-color:rgb(225,225,225);">Energy</button>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div id='wedgePlot' style="width:440px;height:250px"></div>
                    </div>
                    <div class="row">
                        <div id='scopesWedgePlot' style="width:440px;height:250px;margin-top:2%"></div>
                    </div>
                    <div id="emissionsNormalizationButtons" class="row text-center" style="margin:5% 0% 2% 0%">
                        <div class="col-lg-12">
                            <div class="btn-group">
                                <button name="normalizeBySqft" class="btn btn-sm activeToggleBtn" id="normalizeBySqft">Per Sqft</button>
                                <button name="normalizeByStudent" class="btn btn-sm inactiveToggleBtn" id="normalizeByStudent">Per Student</button>
                            </div>
                        </div>
                    </div>
                    <div class="row" style="margin-top:20">
                        <div id='normalizedEmissionsPlot' style="width:440px;height:250px"></div>
                    </div> 
                </div>
                <div id="scenarioColumn" class="col-lg-5" style="border-left:double;border-right:double">
                    <h4 id="scenarioColumnHeader" class="text-center column-header">Project Composer</h4>
                    <div class="row">
                        <div class="col-lg-4 text-center w-100" style="">
                            <div id="projectBtns" class="btn-group-vertical btn-group-toggle my-auto w-100" role="group" style="">
                                <button id="overviewButton" class="btn text-center activeProject" type="button" data-toggle="collapse" aria-pressed="true" href=".projectsOverview" style="text-align: left; white-space: normal !important;word-wrap: break-word;word-break: normal;font-size:150%;border-bottom:solid">Projects</button>
                                <button id="ledButton" type="button" class="btn inactiveProject" data-toggle="collapse" aria-pressed="false" href=".scenario-1" style="text-align: left; white-space: normal !important;word-wrap: break-word;word-break: normal">P1. LED</button>
                                <button id="solarRoofButton" type="button" class="btn inactiveProject" data-toggle="collapse" href=".scenario-2" style="text-align: left; white-space: normal !important;word-wrap: break-word;word-break: normal">P2. Solar Roof</button>
                                <button id="commissioningButton" type="button" class="btn inactiveProject" data-toggle="collapse" href=".scenario-3" style="text-align: left; white-space: normal !important;word-wrap: break-word;word-break: normal">P3. Commissioning</button>
                                <button id="plantAutomationButton" type="button" class="btn inactiveProject" data-toggle="collapse" href=".scenario-4" style="text-align: left; white-space: normal !important;word-wrap: break-word;word-break: normal">P4. Plant Automation</button>
                                <button id="smartLabsButton" type="button" class="btn inactiveProject" data-toggle="collapse" href=".scenario-5" style="text-align: left; white-space: normal !important;word-wrap: break-word;word-break: normal">P5. Smart Labs</button>
                                <button id="electricFleetButton" type="button" class="btn inactiveProject" data-toggle="collapse" href=".scenario-6" style="text-align: left; white-space: normal !important;word-wrap: break-word;word-break: normal">P6. Electric Fleet</button>
                                <button id="electricCommuteButton" type="button" class="btn inactiveProject" data-toggle="collapse" href=".scenario-7" style="text-align: left; white-space: normal !important;word-wrap: break-word;word-break: normal">P7. Electric Commute</button>
                                <button id="offsetsButton" type="button" class="btn inactiveProject" data-toggle="collapse" href=".scenario-8" style="text-align: left; white-space: normal !important;word-wrap: break-word;word-break: normal">P8. Offsets</button>
                                <button id="codaButton" type="button" class="btn inactiveProject" data-toggle="collapse" href=".scenario-9" style="text-align: left; white-space: normal !important;word-wrap: break-word;word-break: normal">P9. Coda</button>
                            </div>
                        </div>
                        <div class="col-lg-8 style="text-align: center"">
                            <div id="demoBtnRow" class="row justify-content-center" style="margin-bottom:5%;margin-right:5%">
                                <div class="btn-group-vertical projectsOverview collapse show" data-parent="#scenarioColumn" role="group">
                                    <input type="button" class="btn inactiveToggleBtn" name="demoAllProjects" id="demoAllProjects" value="Demo All Projects">
                                    <input type="button" class="btn activeToggleBtn" name="offAllProjects" id="offAllProjects" value="None">
                                </div>
                                <div class="btn-group scenario-1 collapse demoBtns" data-parent="#scenarioColumn" role="group">
                                    <input type="button" class="btn inactiveToggleBtn" name="demoLed" id="demoLed" value="Demo">
                                    <input type="button" class="btn activeToggleBtn" name="offLed" id="offLed" value="Off">
                                </div>
                                <div class="btn-group scenario-2 collapse demoBtns" data-parent="#scenarioColumn" role="group">
                                    <input type="button" class="btn inactiveToggleBtn" name="demoSolarRoof" id="demoSolarRoof" value="Demo">
                                    <input type="button" class="btn activeToggleBtn" name="offSolarRoof" id="offSolarRoof" value="Off">
                                </div>
                                <div class="btn-group scenario-3 collapse demoBtns" data-parent="#scenarioColumn" role="group">
                                    <input type="button" class="btn inactiveToggleBtn" name="demoCommissioning" id="demoCommissioning" value="Demo">
                                    <input type="button" class="btn activeToggleBtn" name="offCommissioning" id="offCommissioning" value="Off">
                                </div>
                                <div class="btn-group scenario-4 collapse demoBtns" data-parent="#scenarioColumn" role="group">
                                    <input type="button" class="btn inactiveToggleBtn" name="demoPlantAutomation" id="demoPlantAutomation" value="Demo">
                                    <input type="button" class="btn activeToggleBtn" name="offPlantAutomation" id="offPlantAutomation" value="Off">
                                </div>
                                <div class="btn-group scenario-5 collapse demoBtns" data-parent="#scenarioColumn" role="group">
                                    <input type="button" class="btn inactiveToggleBtn" name="demoSmartLabs" id="demoSmartLabs" value="Demo">
                                    <input type="button" class="btn activeToggleBtn" name="offSmartLabs" id="offSmartLabs" value="Off">
                                </div>
                                <div class="btn-group scenario-6 collapse demoBtns" data-parent="#scenarioColumn" role="group">
                                    <input type="button" class="btn inactiveToggleBtn" name="demoElectricFleet" id="demoElectricFleet" value="Demo">
                                    <input type="button" class="btn activeToggleBtn" name="offElectricFleet" id="offElectricFleet" value="Off">
                                </div>
                                <div class="btn-group scenario-7 collapse demoBtns" data-parent="#scenarioColumn" role="group">
                                    <input type="button" class="btn inactiveToggleBtn" name="demoElectricCommute" id="demoElectricCommute" value="Demo">
                                    <input type="button" class="btn activeToggleBtn" name="offElectricCommute" id="offElectricCommute" value="Off">
                                </div>
                                <div class="btn-group scenario-8 collapse demoBtns" data-parent="#scenarioColumn" role="group">
                                    <input type="button" class="btn inactiveToggleBtn" name="demoOffsets" id="demoOffsets" value="Demo">
                                    <input type="button" class="btn activeToggleBtn" name="offOffsets" id="offOffsets" value="Off">
                                </div>
                                <div class="btn-group scenario-9 collapse demoBtns" data-parent="#scenarioColumn" role="group">
                                    <input type="button" class="btn inactiveToggleBtn" name="demoCoda" id="demoCoda" value="Demo">
                                    <input type="button" class="btn activeToggleBtn" name="offCoda" id="offCoda" value="Off">
                                </div>
                            </div>
                            <div class="row">
                                <!--~~~~~~~~~~~Projects Overview~~~~~~~~~~~~~~~~~~~~~~~-->
                                <div class="projectsOverview collapse show" data-parent="#scenarioColumn">
                                    <p class="p-3" style="text-align: justify">
                                        Select specific projects to demo them individually or in custom combinations. Additional user inputs and controls are also available.
                                    </p>
                                </div>
                                <!--~~~~~~~~~~~~~Scenario 1~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                                <div id="ledCarousel" class="carousel slide scenario-1 collapse mx-auto" data-ride='' data-parent="#scenarioColumn" data-interval="4000">
                                  <ol class="carousel-indicators">
                                    <li data-target="#ledCarousel" data-slide-to="0" class="active" onclick="$('#ledCarousel').carousel('pause')"></li>
                                    <li data-target="#ledCarousel" data-slide-to="1" onclick="$('#ledCarousel').carousel('pause')"></li>
                                    <li data-target="#ledCarousel" data-slide-to="2" onclick="$('#ledCarousel').carousel('pause')"></li>
                                    <li data-target="#ledCarousel" data-slide-to="3" onclick="$('#ledCarousel').carousel('pause')"></li>
                                    <li data-target="#ledCarousel" data-slide-to="4" onclick="$('#ledCarousel').carousel('pause')"></li>
                                    <li data-target="#ledCarousel" data-slide-to="5" onclick="$('#ledCarousel').carousel('pause')"></li>
                                    <li data-target="#ledCarousel" data-slide-to="6" onclick="$('#ledCarousel').carousel('pause')"></li>
                                  </ol>
                                  <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img class="img-fluid carouselImg"  src="./pictures/ledCarouselSlide1.png" alt="First slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/ledCarouselSlide2.png" alt="Second slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/ledCarouselSlide3.png" alt="Third slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/ledCarouselSlide4.png" alt="Fourth slide">
                                    </div>
                                      <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/ledCarouselSlide5.png" alt="Fifth slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/ledCarouselSlide6.png" alt="Sixth slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/ledCarouselSlide7.png" alt="Seventh slide">
                                    </div>
                                  </div>
                                  <a class="carousel-control-prev" href="#ledCarousel" role="button" data-slide="prev" onclick="$('#ledCarousel').carousel('pause')">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#ledCarousel" role="button" data-slide="next" onclick="$('#ledCarousel').carousel('pause')">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>
                                <!--~~~~~~~~~~~~~Scenario 2~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                                <div id="solarRoofCarousel" class="carousel slide scenario-2 collapse mx-auto" data-ride='' data-parent="#scenarioColumn" data-interval="4000">
                                  <ol class="carousel-indicators">
                                    <li data-target="#solarRoofCarousel" data-slide-to="0" class="active" onclick="$('#solarRoofCarousel').carousel('pause')"></li>
                                    <li data-target="#solarRoofCarousel" data-slide-to="1" onclick="$('#solarRoofCarousel').carousel('pause')"></li>
                                    <li data-target="#solarRoofCarousel" data-slide-to="2" onclick="$('#solarRoofCarousel').carousel('pause')"></li>
                                    <li data-target="#solarRoofCarousel" data-slide-to="3" onclick="$('#solarRoofCarousel').carousel('pause')"></li>
                                    <li data-target="#solarRoofCarousel" data-slide-to="4" onclick="$('#solarRoofCarousel').carousel('pause')"></li>
                                  </ol>
                                  <div class="carousel-inner" data-parent="#scenarioColumn">
                                    <div class="carousel-item active">
                                        <img class="img-fluid carouselImg"  src="./pictures/solarRoofCarouselSlide1.png" alt="First slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/solarRoofCarouselSlide2.png" alt="Second slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/solarRoofCarouselSlide3.png" alt="Third slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/solarRoofCarouselSlide4.png" alt="Fourth slide">
                                    </div>
                                      <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/solarRoofCarouselSlide5.png" alt="Fifth slide">
                                    </div>
                                  </div>
                                  <a class="carousel-control-prev" href="#solarRoofCarousel" role="button" data-slide="prev" onclick="$('#solarRoofCarousel').carousel('pause')">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#solarRoofCarousel" role="button" data-slide="next" onclick="$('#solarRoofCarousel').carousel('pause')">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>
                                <!--~~~~~~~~~~~~~Scenario 3~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                                <div id="commissioningCarousel" class="carousel slide scenario-3 collapse mx-auto" data-ride='' data-parent="#scenarioColumn" data-interval="4000">
                                  <ol class="carousel-indicators">
                                    <li data-target="#commissioningCarousel" data-slide-to="0" class="active" onclick="$('#commissioningCarousel').carousel('pause')"></li>
                                    <li data-target="#commissioningCarousel" data-slide-to="1" onclick="$('#commissioningCarousel').carousel('pause')"></li>
                                    <li data-target="#commissioningCarousel" data-slide-to="2" onclick="$('#commissioningCarousel').carousel('pause')"></li>
                                    <li data-target="#commissioningCarousel" data-slide-to="3" onclick="$('#commissioningCarousel').carousel('pause')"></li>
                                    <li data-target="#commissioningCarousel" data-slide-to="4" onclick="$('#commissioningCarousel').carousel('pause')"></li>
                                    <li data-target="#commissioningCarousel" data-slide-to="5" onclick="$('#commissioningCarousel').carousel('pause')"></li>
                                  </ol>
                                  <div class="carousel-inner">
                                    <div class="carousel-item active">
                                      <img class="img-fluid carouselImg"  src="./pictures/commissioningCarouselSlide1.png" alt="First slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/commissioningCarouselSlide2.png" alt="Second slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/commissioningCarouselSlide3.png" alt="Third slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/commissioningCarouselSlide4.png" alt="Fourth slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/commissioningCarouselSlide5.png" alt="Fifth slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/commissioningCarouselSlide6.png" alt="Sixth slide">
                                    </div>
                                  </div>
                                  <a class="carousel-control-prev" href="#commissioningCarousel" role="button" data-slide="prev" onclick="$('#commissioningCarousel').carousel('pause')">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#commissioningCarousel" role="button" data-slide="next" onclick="$('#commissioningCarousel').carousel('pause')">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>
                                <!--~~~~~~~~~~~~~Scenario 4~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                                <div id="plantAutomationCarousel" class="carousel slide scenario-4 collapse mx-auto" data-ride='' data-parent="#scenarioColumn" data-interval="4000">
                                  <ol class="carousel-indicators">
                                    <li data-target="#plantAutomationCarousel" data-slide-to="0" class="active" onclick="$('#plantAutomationCarousel').carousel('pause')"></li>
                                    <li data-target="#plantAutomationCarousel" data-slide-to="1" onclick="$('#plantAutomationCarousel').carousel('pause')"></li>
                                    <li data-target="#plantAutomationCarousel" data-slide-to="2" onclick="$('#plantAutomationCarousel').carousel('pause')"></li>
                                    <li data-target="#plantAutomationCarousel" data-slide-to="3" onclick="$('#plantAutomationCarousel').carousel('pause')"></li>
                                    <li data-target="#plantAutomationCarousel" data-slide-to="4" onclick="$('#plantAutomationCarousel').carousel('pause')"></li>
                                  </ol>
                                  <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img class="img-fluid carouselImg"  src="./pictures/plantAutomationCarouselSlide1.png" alt="First slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/plantAutomationCarouselSlide2.png" alt="Second slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/plantAutomationCarouselSlide3.png" alt="Third slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/plantAutomationCarouselSlide4.png" alt="Fourth slide">
                                    </div>
                                      <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/plantAutomationCarouselSlide5.png" alt="Fifth slide">
                                    </div>
                                  </div>
                                  <a class="carousel-control-prev" href="#plantAutomationCarousel" role="button" data-slide="prev" onclick="$('#plantAutomationCarousel').carousel('pause')">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#plantAutomationCarousel" role="button" data-slide="next" onclick="$('#plantAutomationCarousel').carousel('pause')">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>
                                <!--~~~~~~~~~~~~~Scenario 5~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                                <div id="smartLabsCarousel" class="carousel slide scenario-5 collapse mx-auto" data-ride='' data-parent="#scenarioColumn" data-interval="4000">
                                  <ol class="carousel-indicators">
                                    <li data-target="#smartLabsCarousel" data-slide-to="0" class="active" onclick="$('#smartLabsCarousel').carousel('pause')"></li>
                                    <li data-target="#smartLabsCarousel" data-slide-to="1" onclick="$('#smartLabsCarousel').carousel('pause')"></li>
                                    <li data-target="#smartLabsCarousel" data-slide-to="2" onclick="$('#smartLabsCarousel').carousel('pause')"></li>
                                    <li data-target="#smartLabsCarousel" data-slide-to="3" onclick="$('#smartLabsCarousel').carousel('pause')"></li>
                                    <li data-target="#smartLabsCarousel" data-slide-to="4" onclick="$('#smartLabsCarousel').carousel('pause')"></li>
                                    <li data-target="#smartLabsCarousel" data-slide-to="5" onclick="$('#smartLabsCarousel').carousel('pause')"></li>
                                  </ol>
                                  <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img class="img-fluid carouselImg"  src="./pictures/smartLabsCarouselSlide1.png" alt="First slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/smartLabsCarouselSlide2.png" alt="Second slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/smartLabsCarouselSlide3.png" alt="Third slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/smartLabsCarouselSlide4.png" alt="Fourth slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/smartLabsCarouselSlide5.png" alt="Fifth slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/smartLabsCarouselSlide6.png" alt="Sixth slide">
                                    </div>
                                  </div>
                                  <a class="carousel-control-prev" href="#smartLabsCarousel" role="button" data-slide="prev" onclick="$('#smartLabsCarousel').carousel('pause')">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#smartLabsCarousel" role="button" data-slide="next" onclick="$('#smartLabsCarousel').carousel('pause')">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>
                                <!--~~~~~~~~~~~~~Scenario 6~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                                <div id="electricFleetCarousel" class="carousel slide scenario-6 collapse mx-auto" data-ride='' data-parent="#scenarioColumn" data-interval="4000">
                                  <ol class="carousel-indicators">
                                    <li data-target="#electricFleetCarousel" data-slide-to="0" class="active" onclick="$('#electricFleetCarousel').carousel('pause')"></li>
                                    <li data-target="#electricFleetCarousel" data-slide-to="1" onclick="$('#electricFleetCarousel').carousel('pause')"></li>
                                    <li data-target="#electricFleetCarousel" data-slide-to="2" onclick="$('#electricFleetCarousel').carousel('pause')"></li>
                                  </ol>
                                  <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img class="img-fluid carouselImg"  src="./pictures/electricFleetCarouselSlide1.png" alt="First slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/electricFleetCarouselSlide2.png" alt="Second slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/electricFleetCarouselSlide3.png" alt="Third slide">
                                    </div>
                                  </div>
                                  <a class="carousel-control-prev" href="#electricFleetCarousel" role="button" data-slide="prev" onclick="$('#electricFleetCarousel').carousel('pause')">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#electricFleetCarousel" role="button" data-slide="next" onclick="$('#electricFleetCarousel').carousel('pause')">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>
                                <!--~~~~~~~~~~~~~Scenario 7~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                                <div id="electricCommuteCarousel" class="carousel slide scenario-7 collapse mx-auto" data-ride='' data-parent="#scenarioColumn" data-interval="4000">
                                  <ol class="carousel-indicators">
                                    <li data-target="#electricCommuteCarousel" data-slide-to="0" class="active" onclick="$('#electricCommuteCarousel').carousel('pause')"></li>
                                    <li data-target="#electricCommuteCarousel" data-slide-to="1" onclick="$('#electricCommuteCarousel').carousel('pause')"></li>
                                    <li data-target="#electricCommuteCarousel" data-slide-to="2" onclick="$('#electricCommuteCarousel').carousel('pause')"></li>
                                    <li data-target="#electricCommuteCarousel" data-slide-to="3" onclick="$('#electricCommuteCarousel').carousel('pause')"></li>
                                    <li data-target="#electricCommuteCarousel" data-slide-to="4" onclick="$('#electricCommuteCarousel').carousel('pause')"></li>
                                    <li data-target="#electricCommuteCarousel" data-slide-to="5" onclick="$('#electricCommuteCarousel').carousel('pause')"></li>
                                  </ol>
                                  <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img class="img-fluid carouselImg"  src="./pictures/electricCommuteCarouselSlide1.png" alt="First slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/electricCommuteCarouselSlide2.png" alt="Second slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/electricCommuteCarouselSlide3.png" alt="Third slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/electricCommuteCarouselSlide4.png" alt="Fourth slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/electricCommuteCarouselSlide5.png" alt="Fifth slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/electricCommuteCarouselSlide6.png" alt="Sixth slide">
                                    </div>
                                  </div>
                                  <a class="carousel-control-prev" href="#electricCommuteCarousel" role="button" data-slide="prev" onclick="$('#electricCommuteCarousel').carousel('pause')">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#electricCommuteCarousel" role="button" data-slide="next" onclick="$('#electricCommuteCarousel').carousel('pause')">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>
                                <!--~~~~~~~~~~~~~Scenario 8~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                                <div id="offsetsCarousel" class="carousel slide scenario-8 collapse mx-auto" data-ride='' data-parent="#scenarioColumn" data-interval="4000">
                                  <ol class="carousel-indicators">
                                    <li data-target="#offsetsCarousel" data-slide-to="0" class="active" onclick="$('#offsetsCarousel').carousel('pause')"></li>
                                    <li data-target="#offsetsCarousel" data-slide-to="1" onclick="$('#offsetsCarousel').carousel('pause')"></li>
                                    <li data-target="#offsetsCarousel" data-slide-to="2" onclick="$('#offsetsCarousel').carousel('pause')"></li>
                                    <li data-target="#offsetsCarousel" data-slide-to="3" onclick="$('#offsetsCarousel').carousel('pause')"></li>
                                  </ol>
                                  <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img class="img-fluid carouselImg"  src="./pictures/offsetsCarouselSlide1.png" alt="First slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/offsetsCarouselSlide2.png" alt="Second slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/offsetsCarouselSlide3.png" alt="Third slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/offsetsCarouselSlide4.png" alt="Fourth slide">
                                    </div>
                                  </div> 
                                  <a class="carousel-control-prev" href="#offsetsCarousel" role="button" data-slide="prev" onclick="$('#offsetsCarousel').carousel('pause')">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#offsetsCarousel" role="button" data-slide="next" onclick="$('#offsetsCarousel').carousel('pause')">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>
                                <!--~~~~~~~~~~~~~Scenario 9~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                                <div id="codaCarousel" class="carousel slide scenario-9 collapse mx-auto" data-ride='' data-parent="#scenarioColumn" data-interval="4000">
                                  <ol class="carousel-indicators">
                                    <li data-target="#codaCarousel" data-slide-to="0" class="active" onclick="$('#codaCarousel').carousel('pause')"></li>
                                    <li data-target="#codaCarousel" data-slide-to="1" onclick="$('#codaCarousel').carousel('pause')"></li>
                                    <li data-target="#codaCarousel" data-slide-to="2" onclick="$('#codaCarousel').carousel('pause')"></li>
                                    <li data-target="#codaCarousel" data-slide-to="3" onclick="$('#codaCarousel').carousel('pause')"></li>
                                    <li data-target="#codaCarousel" data-slide-to="4" onclick="$('#codaCarousel').carousel('pause')"></li>
                                  </ol>
                                  <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img class="img-fluid carouselImg"  src="./pictures/codaCarouselSlide1.png" alt="First slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/codaCarouselSlide2.png" alt="Second slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/codaCarouselSlide3.png" alt="Third slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/codaCarouselSlide4.png" alt="Fourth slide">
                                    </div>
                                    <div class="carousel-item">
                                      <img class="img-fluid carouselImg" src="./pictures/codaCarouselSlide5.png" alt="Fifth slide">
                                    </div>
                                  </div> 
                                  <a class="carousel-control-prev" href="#codaCarousel" role="button" data-slide="prev" onclick="$('#codaCarousel').carousel('pause')">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#codaCarousel" role="button" data-slide="next" onclick="$('#codaCarousel').carousel('pause')">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div id="scenarioContentColumn" class="col-lg-6">
                            <div class="row mx-auto">
                                <!--~~~~~~~~Scenario Dependent~~~~~~~~~~~~~~~--> 
                                <div class="projectsOverview collapse show" data-parent="#scenarioColumn">
                                </div>
                                <div class="scenario-1 collapse" data-parent="#scenarioColumn">
                                    <div id="ledPlot" style="background-color:aqua;position:fixed; width:480px;height:150px;"></div>
                                </div>
                                <div class="scenario-2 collapse" data-parent="#scenarioColumn">
                                    <a id="solarRoofPlot" style="width:280px;height:150px;"></a>
                                </div>
                                <div class="scenario-5 collapse" data-parent="#scenarioColumn">
                                    <a id="smartLabsPlot" style="width:280px;height:150px;"></a>
                                </div>
                                <div class="scenario-6 collapse" data-parent="#scenarioColumn">
                                    <a id="electricFleetPlot" style="width:280px;height:150px;"></a>
                                </div>
                                <div class="scenario-7 collapse" data-parent="#scenarioColumn">
                                    <a id="electricCommutePlot" style="width:280px;height:150px;"></a>
                                </div>
                                <div class="scenario-8 collapse" data-parent="#scenarioColumn">
                                    <a id="natureConservancyPlot" style="width:280px;height:150px;"></a>
                                </div>
                            </div>
                            <div class="row mx-auto">
                            <!--~~~~~USER INPUTS~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                                <!--~~~~~~~~~Projects Overview~~~~~~~~~~~~~~~~~~~~~~-->
                                <div class="projectsOverview collapse show" data-parent="#scenarioColumn">
                                </div>
                                <!--~~~~~~~~~Scenario 1~~~~~~~~~~~~~~~~~~~~~~-->
                                <div class="scenario-1 collapse mx-auto text-center" data-parent="#scenarioColumn" style="margin:5% 2% 0% 5%">
                                    <form>
                                        <u for="laborCostSlider">Staff Wage for Changing Lights</u>
                                        <br/>
                                        <input type="range" name="laborCostSlider" id="laborCostSlider" value="12" min="0" max="50" step="1" onchange="updateLaborCostSliderInput(this.value);">
                                        <b><span id="laborCostSliderInput" type="number" style="font-size: 150%" disabled="true">12</span></b>
                                        <span for="laborCostSliderInput">USD</span>
                                        <br/>
                                        <br/>
                                        <u for="hoursOfOperationSlider">Light Operation Time</u>
                                        <br/>
                                        <input type="range" name="hoursOfOperationSlider" id="hoursOfOperationSlider" value="12" min="0" max="24" step="0.5" onchange="updateHoursOfOperationSliderInput(this.value);">
                                        <b><span id="hoursOfOperationSliderInput" type="number" style="font-size: 150%" disabled="true">12</span></b>
                                        <span for="hoursOfOperationSliderInput">Hours/Day</span>
                                        <br/>
                                        <br/>
                                        <u for="timeToChangeLightSlider">Time to Change Light</u>
                                        <br/>
                                        <input type="range" name="timeToChangeLightSlider" id="timeToChangeLightSlider" value="10" min="0" max="60" step="1" onchange="updateTimeToChangeLightSliderInput(this.value);">
                                        <b><span id="timeToChangeLightSliderInput" type="number" style="font-size: 150%" disabled="true">10</span></b>
                                        <span for="timeToChangeSliderInput">Minutes</span>
                                        <br/>
                                        <br/>
                                        <u for="costOfLEDSlider">Cost Of LED Tube</u>
                                        <br/>
                                        <input type="range" name="costOfLEDSlider" id="costOfLEDSlider" value="8.55" min="0" max="20" step=".01" onchange="updateCostOfLEDSliderInput(this.value);">
                                        <b><span id="costOfLEDSliderInput" type="number" style="font-size: 150%" disabled="true">8.55</span></b>
                                        <span for="costOfLEDSliderInput">USD</span>
                                        <br/>
                                        <br/>
                                    </form>
                                </div>
                                <!--~~~~~~~~~Scenario 2~~~~~~~~~~~~~~~~~~~~~~-->
                                <div class="scenario-2 collapse mx-auto text-center" data-parent="#scenarioColumn" style="margin:5% 2% 0% 5%">
                                    <form>
                                        <select name="solarOption" id="solarOption">
                                            <option value="Google Sunroof" id="googleSunroof">Google Sunroof</option>
                                            <option value="NREL Study" id="nrelStudy">NREL Study</option>
                                        </select>
                                        <br/>
                                        <u for="costPerKWSlider">Cost Per KW Installed</u>
                                        <br/>
                                        <input type="range" name="costPerKWSlider" id="costPerKWSlider" value="2270" min="1000" max="3000" step="10" onchange="updateCostPerKWSliderInput(this.value);">
                                        <b><span id="costPerKWSliderInput" type="number" style="font-size: 150%" disabled="true">2270</span></b>
                                        <span for="costPerKWSliderInput">USD</span>
                                        <br/>
                                        <br/>
                                    </form>
                                </div>
                                <!--~~~~~~~~~Scenario 3~~~~~~~~~~~~~~~~~~~~~~-->
                                <div class="scenario-3 collapse p-1 mx-auto text-center" data-parent="#scenarioColumn" style="margin:5% 2% 0% 5%">
                                    <form>
                                        <u for="commissioningSlider">Frequency of Commissioning</u>
                                        <br/>
                                        <input type="range" name="commissioningSlider" id="commissioningSlider" value="50" min="1" max="50" step="1" onchange="updateCommissioningSliderInput(this.value);">
                                        <b><span id="commissioningSliderInput" type="number" style="font-size: 150%" disabled="true">50</span></b>
                                        <span for="commissioningSliderInput">Years</span>
                                        <br/>
                                        <br/>
                                        <u class=" show" for="degradationFactor">Annual System Efficiency Degradation</u>
                                        <br/>
                                        <input type="range" name="degradationFactor" value="1.02" min="1" max="1.2" step="0.01" id="degradationFactor" onchange="updateDegradationFactorSliderInput(this.value);"/>
                                        <b><span id="degradationFactorInput" type="number" style="font-size: 150%" disabled="true">1.02</span></b>
                                        <br/>
                                        <br/>
                                        <u class=" show" for="maxDegradation">Max Degradation</u>
                                        <br/>
                                        <input type="range" name="maxDegradation" value="1.3" min="1" max="2" step="0.1" id="maxDegradation" onchange="updateMaxDegradationSliderInput(this.value);"/>
                                        <b><span id="maxDegradationInput" type="number" style="font-size: 150%" disabled="true">1.3</span></b>
                                        <br/>
                                        <br/>
                                        <u for="commissioningCostSlider">Commissioning Cost for Campus</u>
                                        <br/>
                                        <input type="range" name="commissioningCostSlider" id="commissioningCostSlider" value="15" min="0" max="25" step="0.1" onchange="updateCommissioningCostSliderInput(this.value);">
                                        <b><span id="commissioningCostSliderInput" type="number" style="font-size: 150%" disabled="true">15</span></b>
                                        <span for="commissioningCostSliderInput">MMUSD</span>
                                        <br/>
                                        <br/>
                                    </form>
                                </div>
                                <!--~~~~~~~~~Scenario 4~~~~~~~~~~~~~~~~~~~~~~-->
                                <div class="scenario-4 collapse p-1 mx-auto text-center" data-parent="#scenarioColumn" style="margin:5% 2% 0% 5%">
                                    <form>
                                        <u for=“plantAutomation”>Plant EUI Reduction</u>
                                        <br/>
                                        <input type="range" name="plantAutomationSliderEUI" id="plantAutomationSliderEUI" value="30" min="0" max="100" step="1" onchange="updateSliderInput(this.value);">
                                        <b><span id="plantAutomationEUISliderInput" type="number" style="font-size: 150%" disabled="true">30</span></b>
                                        <span for="sliderInput">%</span>
                                        <br/>
                                        <br/>
                                        <u for="plantAutomationSetupCostSlider">Initial Setup Cost</u>
                                        <br/>
                                        <input type="range" name="plantAutomationSetupCostSlider" id="plantAutomationSetupCostSlider" value="8" min="1" max="15" step="0.1" onchange="updatePlantAutomationSetupCostSliderInput(this.value);">
                                        <b><span id="plantAutomationSetupCostSliderInput" type="number" style="font-size: 150%" disabled="true">8</span></b>
                                        <span for="plantAutomationSetupCostSliderInput">MMUSD</span>
                                        <br/>
                                        <br/>
                                        <u for="plantAutomationRecurringCostSlider">Annually Recurring Cost</u>
                                        <br/>
                                        <input type="range" name="plantAutomationRecurringCostSlider" id="plantAutomationRecurringCostSlider" value="0" min="0" max="5" step="0.1" onchange="updatePlantAutomationRecurringCostSliderInput(this.value);">
                                        <b><span id="plantAutomationRecurringCostSliderInput" type="number" style="font-size: 150%" disabled="true">0</span></b>
                                        <span for="plantAutomationRecurringCostSliderInput">MMUSD</span>
                                    </form>
                                </div>
                                <!--~~~~~~~~~Scenario 5~~~~~~~~~~~~~~~~~~~~~~-->
                                <div class="scenario-5 collapse mx-auto text-center" data-parent="#scenarioColumn" style="margin:5% 2% 0% 5%">
                                    <form>
                                        <u for=“smartLabsSlider”>Lab HVAC EUI Reduction</u>
                                        <br/>
                                        <input type="range" name="smartLabsSlider" id="smartLabsSlider" value="33" min="0" max="100" step="1" onchange="updateLabSliderInput(this.value);">
                                        <b><span id="smartLabsSliderInput" type="number" style="font-size: 150%" disabled="true">33</span></b>
                                        <span for="smartLabsSliderInput">%</span>
                                        <br/>
                                        <br/>
                                        <u for="smartLabsInitialCostSlider">Cost to Implement</u>
                                        <br/>
                                        <input type="range" name="smartLabsInitialCostSlider" id="smartLabsInitialCostSlider" value="30" min="0" max="200" step="1" onchange="updateSmartLabsInitialCostSliderInput(this.value);">
                                        <b><span id="smartLabsInitialCostSliderInput" type="number" style="font-size: 150%" disabled="true">30</span></b>
                                        <span for="smartLabsInitialCostSliderInput">USD/1000sqft</span>
                                        <br/>
                                        <br/>
                                        <u for="smartLabsOperationCostSlider">Annually Recurring Cost</u>
                                        <br/>
                                        <input type="range" name="smartLabsOperationCostSlider" id="smartLabsOperationCostSlider" value="0.5" min="0" max="5" step="0.01" onchange="updateSmartLabsOperationCostSliderInput(this.value);">
                                        <b><span id="smartLabsOperationCostSliderInput" type="number" style="font-size: 150%" disabled="true">0.5</span></b>
                                        <span for="smartLabsOperationCostSliderInput">USD/1000sqft</span>
                                    </form>
                                </div>
                                <!--~~~~~~~~~Scenario 6~~~~~~~~~~~~~~~~~~~~~~-->
                                <div class="scenario-6 collapse" data-parent="#scenarioColumn" style="margin:5% 2% 0% 5%">
                                    <form>
                                    
                                    </form>
                                </div>
                                <!--~~~~~~~~~Scenario 7~~~~~~~~~~~~~~~~~~~~~~-->
                                <div class="scenario-7 collapse mx-auto text-center" data-parent="#scenarioColumn" style="margin:5% 2% 0% 5%">
                                    <form>
                                        <u for="electricCommuteChargeRate">Campus Charge Rate</u>
                                        <br/>
                                        <input type="range" name="electricCommuteChargeRate" id="electricCommuteChargeRate" value="0" min="0" max="100" step="1" onchange="updateElectricCommuteChargeRateInput(this.value);">
                                        <b><span id="electricCommuteChargeRateInput" type="number" style="font-size: 150%" disabled="true">0</span></b>
                                        <span for="electricCommuteChargeRateInput">%</span>
                                        <br/>
                                        <br/>
                                        <u for="chargerRatioSlider">Proportion of Level 1 Chargers Constructed</u>
                                        <br/>
                                        <input type="range" name="chargerRatioSlider" id="chargerRatioSlider" value="1" min="0" max="1" step=".01" onchange="updateChargerRatioSliderInput(this.value);">
                                        <b><span id="chargerRatioSliderInput" type="number" style="font-size: 150%" disabled="true">1</span></b>
                                        <br/>
                                        <br/>
                                        <u for="feePerKWhSlider">Fee to Charge</u>
                                        <br/>
                                        <input type="range" name="feePerKWhSlider" id="feePerKWhSlider" value="0.10" min="0" max="0.5" step="0.01" onchange="updateFeePerKWhSliderInput(this.value);">
                                        <b><span id="feePerKWhSliderInput" type="number" style="font-size: 150%" disabled="true">0.10</span></b>
                                        <span for="feePerKWhSliderInput">$/kWh</span>
                                    </form>
                                </div>
                                <!--~~~~~~~~~Scenario 8~~~~~~~~~~~~~~~~~~~~~~-->
                                <div class="scenario-8 collapse mx-auto text-center" data-parent="#scenarioColumn" style="margin:5% 2% 0% 5%">
                                    <form>
                                        <u for="costOfOffsets">Offset Cost</u>
                                        <br/>
                                        <input type="range" name="costOfOffsets" id="costOfOffsets" value="15" min="0" max="100" step=".1" onchange="updateCostOfOffsets(this.value);">
                                        <b><span id="costOfOffsetsDisplay" type="number" style="font-size: 150%" disabled="true">15</span></b>
                                        <span for="costOfOffsetsDisplay">$/tonCO2</span>
                                    </form>
                                </div>
                                <!--~~~~~~~~~Scenario 9~~~~~~~~~~~~~~~~~~~~~~-->
                                <div class="scenario-9 collapse p-1 mx-auto text-center" data-parent="#scenarioColumn" style="margin:5% 2% 0% 5%">
                                    <form>
                                        <u for=“coda”>Activation Year</u>
                                        <br/>
                                        <input type="range" name="codaYearSlider" id="codaYearSlider" value="2019" min="2018" max="2050" step="1" onchange="updateCodaYearSliderInput(this.value);">
                                        <b><span id="codaYearSliderInput" type="number" style="font-size: 150%" disabled="true">2019</span></b>
                                        <br/>
                                        <br/>
                                        <u for=“coda”>Square Feet</u>
                                        <br/>
                                        <input type="range" name="codaSqftSlider" id="codaSqftSlider" value="0.297" min="0" max="0.5" step=".001" onchange="updateCodaSqftSliderInput(this.value);">
                                        <b><span id="codaSqftSliderInput" type="number" style="font-size: 150%" disabled="true">0.297</span></b>
                                        <span for="codaSqftSliderInput">MMSqft</span>
                                        <br/>
                                        <br/>
                                        <u for=“coda”>EUI</u>
                                        <br/>
                                        <input type="range" name="codaEUISlider" id="codaEUISlider" value="18" min="0" max="100" step="1" onchange="updateCodaEUISliderInput(this.value);">
                                        <b><span id="codaEUISliderInput" type="number" style="font-size: 150%" disabled="true">18</span></b>
                                        <span for="codaEUISliderInput">kWh/sqft</span>
                                    </form>
                                </div>
                                
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="row mx-auto" style="background-color:#6c757d;border-radius:5px;">
                                <h4 id="takeawayHeader" class="collapse" data-toggle="false" style="text-align: center;padding-left:5%">Takeaways</h4>
                                <!--~~~~~~~~~~~~~~~~~~Scenario Dependent~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
                                <ul class="scenario-1 collapse" data-parent="#scenarioColumn" style="padding-left:10%">
                                    <li>Default settings of parameters bring more savings than cost.</li>
                                    <li>With default settings, LED is the most cost effective project.</li>
                                </ul>
                                <ul class="scenario-2 collapse" data-parent="#scenarioColumn" style="padding-left:10%">
                                    <li>Default settings of parameters bring more cost than savings.</li>
                                    <li>Analysis using Google shows more cost effectiveness than NREL analysis, but both are net cost.</li>
                                </ul>
                                <ul class="scenario-3 collapse" data-parent="#scenarioColumn" style="padding-left:10%">
                                    <li>Campus commissioning every 9 years maximizes net savings per ton of CO2 reduction.</li>
                                    <li>Commissioning every year maximizes CO2 reduction.</li>
                                </ul>
                                <ul class="scenario-4 collapse" data-parent="#scenarioColumn" style="padding-left:10%">
                                    <li>Default settings of parameters bring more savings than cost.</li>
                                    <li>Using default settings, this is the 2nd most cost effective project.</li>
                                </ul>
                                <ul class="scenario-5 collapse" data-parent="#scenarioColumn" style="padding-left:10%">
                                    <li>Default settings of parameters bring slightly more cost than savings.</li>
                                </ul>
                                <ul class="scenario-6 collapse" data-parent="#scenarioColumn" style="padding-left:10%">
                                    <li>This project has a very small effect on overall emissions reduction.</li>
                                    <li>Fleet conversion currently does not take into account any savings from reduced petroleum costs.</li>
                                </ul>
                                <ul class="scenario-7 collapse" data-parent="#scenarioColumn" style="padding-left:10%">
                                    <li>Default settings of parameters bring more cost than savings.</li>
                                    <li>Around 53% campus charge rate will bring equal savings and cost while the other two parameters remain default.</li>
                                </ul>
                                <ul class="scenario-8 collapse" data-parent="#scenarioColumn" style="padding-left:10%">
                                    <li>Only using offsets will cost $106MM from now to 2050 with default conversion rate.</li>
                                    <li>Implementing cost effective scenarios reduces the cost of offsets to $80MM and net savings are $80MM</li>
                                </ul>
                                <ul class="scenario-9 collapse" data-parent="#scenarioColumn" style="padding-left:10%">
                                </ul>
                            </div>
                        </div>
                    </div>  
                  </div>
                  <div id="financesColumn" class="col-lg-3">
                    <h4 class="text-center column-header">Project Cost Evaluation</h4>
                    <div class="row"> 
                        <a id="financesFillerRow1" style="margin:2% 0% 3% 0%"></a>
                    </div>
                    <div class="row">
                        <div id='MACPlot' style="width:300px;height:250px"></div>
                    </div>
                    <div class="row">
                        <div id='SavingsVCostPlot' style="width:300px;height:250px;margin-top:2%"></div>
                    </div>
                    <div class="row">
                        <a id="financesFillerRow2" style="margin:5% 0% 2% 0%"></a>  
                    </div> 
                    <div class="row" style="margin-top:20">
                        <div id='netCostPlot' style="width:300px;height:250px"></div>
                    </div>
                  </div>
                </div>  
        </font>
      </div>
    </div>    
      <div class="collapse tabs-1 show w-100" id="tabs-1Content" data-parent="#tabs">
          <font color='white'>
              <div class="container-fluid ml-2">
                <div class="row">
                    <form class="growthType">
                        <label for="radio">Growth Options:</label>
                        <input type="radio" name="radio" value="averageGrowth" id="radio" checked="checked"/>Average Growth
                        <input type="radio" name="radio" value="studentFocus" id="radio"/>Student Focus
                        <input type="radio" name="radio" value="researchFocus" id="radio"/>Research Focus
                    </form>
                </div>
            <!--<input type="radio" name="radio" value="custom" id="radio"/>Custom-->
                <!--disabled="true"--> 
                <div class="row">
                    <form>
                        <label class="tooltip,show" for="elecEF">Electricity Emissions:</label>
                        <select name="elecEF" id="elecEF">
                        <option value="baseline">EIA Baseline</option>
                        <option value="highGas">EIA High Gas Growth</option>
                        <option value="lowGas">EIA Low Gas Growth</option>
                        <option value="highEcon">EIA High Econ Growth</option>
                        <option value="lowEcon">EIA Low Econ Growth</option>
                        <option value="GaPower">Georgia Power 2014</option>
                        </select>
                    </form>
                </div>
                <div class="row">
                    <div class="col-lg-3">
                        <div class="row">
                            <p class="mt-0 mx-auto" style=""><b>Georgia Tech: 1908 to 2018</b></p>
                        </div>
                        <img class="img-fluid mx-auto mt-auto" src="./pictures/campusGrowthAnimation.gif" style="border-radius:1%;">
                    </div>
                    <div id="1908PieCol" class="col-lg-2 mt-0 mx-auto">
                        <div class="row mt-0 pt-0">
                            <p class="mt-0 mx-auto" style=""><b>1908 - 201,000 sqft</b></p>
                        </div>
                        <!--<a id='campusSqftPlot' style="width:780px;height:300px"></a>-->
                        <a id='campusSqft1908PiePlot' class="mx-auto" style="width:200px;height:200px;"></a>
                    </div>
                    <div id="2018PieCol" class="col-lg-3 mt-0 mx-auto">
                        <div class="row mt-0">
                            <div class="mt-0 mx-auto" style=""><b>2018 - 13.4 MMsqft</b></div>
                        </div>
                        <div class="row mt-1">
                            <div class="mx-auto" style="font-size:70%">*Sqft data includes GT Main Campus & main GTRI.</div>
                        </div>
                        <div class="row mx-auto">
                            <a id='campusSqft2018PiePlot' class="my-auto mx-auto" style="width:200px;height:200px;"></a>
                        </div>
                    </div>
                    <div id="2050PieCol" class="col-lg-4 mt-0 mx-auto">
                        <div class="row mt-0">
                            <p class="mt-0 mx-auto" style=""><b id="2050PieTitle">2050 - 18 MMsqft</b></p>
                        </div>
                        <div class="row mx-auto">
                            <a id='campusSqft2050PiePlot' class="mx-auto" style="width:200px;height:200px;"></a>
                        </div>
                    </div>
                </div>
                <div class="row text-center">
                    <div id="studentGrowthPlotColumn" class="col-lg-4 text-center">
                        <a id='studentGrowthPlot' class="text-center" style="width:300px;height:240px;"></a>
                    </div>
                    <div class="col-lg-4 text-center">
                        <a id='facultyGrowthPlot' style="width:300px;height:240px;"></a>
                    </div>
                    <div class="col-lg-4 text-center">
                        <a id='researchGrowthPlot' style="width:300px;height:240px;"></a>
                    </div>
                </div>
            </div>
          </font>
        </div>
        <div class="collapse tabs-3" id="tabs-3Content" data-parent="#tabs">
            <font color="white">
            <a style="width:100px;height:1000px;border"></a>
            <br/>
            <ul>
                <li id="bauDefn"><u>Growth Scenario</u>
                    <p style="text-indent: 10">Allows the user to set the business as usual, a projection assuming Georgia Tech does not implement any energy saving strategies.</p>
                </li>
                <li id="electricyEmissions"><u>Electricity Emissions</u>
                    <p style="text-indent: 10">Electricity emissions factors indicate how many carbon emissions are produced per kiloWatt-hour. These factors change based on the makeup of the electric grid; a grid that is largely coal based will have a higher emissions factor than one that uses a lot of renewable energy.</p>
                </li>
                <li id="emissionScopes"><u>Emission Scopes</u>
                    <p style="text-indent: 10">Scope 1: Direct emissions that are created on-campus. This is primarily from burning natural gas for heating and from Georgia Tech's vehicle emissions</p>
                    <p style="text-indent: 10">Scope 2: Indirect emissions created by electricity consumption.</p>
                    <p style="text-indent: 10">Scope 3: Induced emissions from faculty and student commuting as well as work-related travel.</p>
                </li>
                <li id="GTCarbonNeutrality"><u>Georgia Tech Carbon Neutrality</u>
                    <p style="text-indent: 10">Georgia Tech has committed to halving carbon emissions by 2040 and becoming carbon neutral by 2050. </p>
                </li>
                <li id="systemDegradation"><u>System Efficiency Degradation</u>
                    <p style="text-indent: 10">The rate at which scope 1 and scope 2 systems degrade year over year. Ex. 1.02 = a yearly 2% efficiency decrease from the previous year. </p>
                </li>
                <li id="maxSystemDegradation"><u>Max System Efficiency Degradation</u>
                    <p style="text-indent: 10">This sets an upper limit on how bad the systems can get.</p>
                </li>
            </ul>
            </font>
        </div>
        </div>
    </div>
    
    
    <div class='tooltiptext' id='something'>?</div>
    
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <!--<script src="https://bootstrap.bundle.min.js"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.10.1/umd/popper.min.js"></script>-->
    <!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>-->
    <script type="text/javascript" src="./updateMACPlot.js"></script>
    <script type="text/javascript" src="./WebToolArchitecture.js"></script>
	<script type="text/javascript" src="./calculateBaselineEmissions"></script>
    <script type="text/javascript" src="./calculateEmissions.js"></script>
    <script type="text/javascript" src="./calculateSqft.js"></script>
    <script type="text/javascript" src="./sliderInput.js"></script>
    <script type="text/javascript" src="./interpolateArray.js"></script>
    <script type="text/javascript" src="./multiply.js"></script>
    <script type="text/javascript" src="./divide.js"></script>
    <script type="text/javascript" src="./sumArray.js"></script>
    <script type="text/javascript" src="./elementWiseAdd.js"></script>
    <script type="text/javascript" src="./parseValues.js"></script>
    <!--<script src="echarts.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.0.2/echarts.min.js"></script>
    <!--<script src="https://code.jquery.com/jquery-1.12.4.js"></script>-->
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    
    <script>        
        $(function () {
            $('[data-toggle="tooltip"]').tooltip({
                container: 'body',
            })
               /* container: 'body',*/
                /*placement: 'auto right'*/
            /*})*/
        })
       /* $(function () {
            $('#emissionsHeading').tooltip({title: "?",placement:"right"});
        })*/
      $( function() {   
        BAUGrowth.studentGrowth.selected = BAUGrowth.studentGrowth.average;
        BAUGrowth.facultyGrowth.selected = BAUGrowth.facultyGrowth.average;
        BAUGrowth.researchGrowth.selected = BAUGrowth.researchGrowth.average;
        emissions.emissionsFactors.selected = emissions.emissionsFactors.baseline;
        buildingSpace = calculateSqft(buildingSpace,BAUGrowth);
          
        let offset, $n;
        let v = false;
        setTimeout(()=>{
          offset=$('#wedgePlot canvas')[0].getBoundingClientRect();
          $n=$('#something');
            $('#wedgePlot').on('mouseenter',()=>{
                v = false;
            })
            .on('mouseleave',()=>{
                v=false;
                setTimeout(()=>{
                    if(!v) $n.removeClass('show');
                },500);      
            });
          $n.css({
              top: (offset.top)+'px',
              left: (offset.left+offset.width-40)+'px',
          });
          $n.on('click', ()=>{
             //sdfsdf 
          });
        }, 200);  
        
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//Emissions Chart
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        let wedgePlot = echarts.init(document.getElementById('wedgePlot'));
        
        let wedgePlotOption = {
            title: {
                text: 'Emissions by Project',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            tooltip : {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#6a7985'
                    }
                },
                //position: 'bottom'
                //formatter: "Template formatter: <br/>{b}<br/>{a}:{c}<br/>{a1}:{c1}"
            },
            legend: {
                orient: 'vertical',
                align: 'left',
                right: '5%',
                top: '10%',
                type: 'plain',
                //data:['Scope 1','Scope 2','Scope 3'],
				selected:{
					'Net': true,
					'P1': true,
					'P2': true,
                    'P3': true,
                    'P4': true,
                    'P5': true,
                    'P6': true,
                    'P7': true,
                    'P8': true
				},
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
                tooltip:{
                    show:true,
                    formatter : function(obj){
                        setTimeout(()=>{
                        v=true;    
                        },100);
                        
                        if(!$n.hasClass('show')) $n.addClass('show');                        
                        
                        /*if(document.getElementById('scopeToolTipText') == null){
                            const tx = `<span id='scopeToolTipText' class='tooltiptext' style="position: fixed; z-index: 999999999; left: 775px; top:150px;">?</span>`
                            //const tx=`<span style="position: fixed; z-index: 999999999; left: ${xy[0]}px; top: ${xy[1]}px;">?</span>`;
                            $('body').append(tx);
                        }*/
                        //return JSON.stringify(obj);   
                    },
                    /*formatter: '?',*/
                    textStyle:{
                                color:'#666666',
                                fontStyle:'normal',
                                fontFamily:'Helvetica',
                                fontSize:11
                            },
                            backgroundColor:'white'
                }
            },
            toolbox: {
                /*feature: {
                    saveAsImage: {}
                }*/
            },
            grid: {
                top: '12%',
                left: '10%',
                right: '15%',
                bottom: '8%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'category',
                    boundaryGap : false,
                    data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 24,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    name: 'Emissions (Metric kTons CO2e)',
                    nameLocation: 'middle',
                    nameGap: 40,
                    min: 0,
                    max:800,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            series : [
                /*{
                    name:'Scope 1',
                    type:'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data:emissions.scope1,
                },
                {
                    name:'Scope 2',
                    type:'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data:emissions.scope2
                },
                {
                    name:'Scope 3',
                    type:'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data:emissions.scope3
                }*/
                {
                    name: 'Net',
                    type: 'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data: emissions.totalEmissions
                },
                {
                    name: 'P1',
                    type: 'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data: [scenarios.led.getNetCost()[1]]
                },
                {
                    name: 'P2',
                    type: 'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data: [scenarios.solarRoof.getNetCost()[1]]
                },
                {
                    name: 'P3',
                    type: 'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data: [scenarios.commissioning.getNetCost()[1]]
                },
                {
                    name: 'P4',
                    type: 'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data: [scenarios.plantAutomation.getNetCost()[1]]
                },
                {
                    name: 'P5',
                    type: 'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data: [scenarios.smartLabs.getNetCost()[1]]
                },
                {
                    name: 'P6',
                    type: 'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data: [scenarios.electricFleet.getNetCost()[1]]
                },
                {
                    name: 'P7',
                    type: 'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data: [scenarios.electricCommute.getNetCost()[1]]
                },
                {
                    name: 'P8',
                    type: 'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data: [scenarios.natureConservancy.getNetCost()[1]]
                },
            ]
        };
        wedgePlot.setOption(wedgePlotOption);
        
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// Scopes Wedge Plot
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        let scopesWedgePlot = echarts.init(document.getElementById('scopesWedgePlot'));
        
        let scopesWedgePlotOption = {
            title: {
                text: 'Emissions by Scope',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            tooltip : {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#6a7985'
                    },
                },
                //position: 'bottom'
                //formatter: "Template formatter: <br/>{b}<br/>{a}:{c}<br/>{a1}:{c1}"
            },
            legend: {
                orient: 'vertical',
                align: 'left',
                left: 'right',
                top: '10%',
                type: 'plain',
                //data:['Scope 1','Scope 2','Scope 3'],
				selected:{
					'Scope 1': true,
					'Scope 2': true,
					'Scope 3': true,
				},
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
                tooltip:{
                    show:true,
                    formatter : function(obj){
                        setTimeout(()=>{
                        v=true;    
                        },100);
                        
                        if(!$n.hasClass('show')) $n.addClass('show');                        
                        
                        /*if(document.getElementById('scopeToolTipText') == null){
                            const tx = `<span id='scopeToolTipText' class='tooltiptext' style="position: fixed; z-index: 999999999; left: 775px; top:150px;">?</span>`
                            //const tx=`<span style="position: fixed; z-index: 999999999; left: ${xy[0]}px; top: ${xy[1]}px;">?</span>`;
                            $('body').append(tx);
                        }*/
                        //return JSON.stringify(obj);   
                    },
                    /*formatter: '?',*/
                    textStyle:{
                                color:'#666666',
                                fontStyle:'normal',
                                fontFamily:'Helvetica',
                                fontSize:11
                            },
                            backgroundColor:'white'
                }
            },
            toolbox: {
                /*feature: {
                    saveAsImage: {}
                }*/
            },
            grid: {
                top: '12%',
                bottom: '8%',
                left: '10%',
                right: '15%',
                
                containLabel: true
            },
            xAxis : [
                {
                    type : 'category',
                    boundaryGap : false,
                    data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 24,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    name: 'Emissions (Metric kTons CO2e)',
                    nameLocation: 'middle',
                    nameGap: 40,
                    min: 0,
                    max:800,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            series : [
                {
                    name:'Scope 1',
                    type:'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data:emissions.scope1,
                },
                {
                    name:'Scope 2',
                    type:'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data:emissions.scope2
                },
                {
                    name:'Scope 3',
                    type:'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data:emissions.scope3
                }
            ]
        };
        scopesWedgePlot.setOption(scopesWedgePlotOption);

//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//Normalized Emissions Chart
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        let normalizedEmissionsPlot = echarts.init(document.getElementById('normalizedEmissionsPlot'));
        
        let normalizedEmissionsPlotOption = {
            title: {
                text: 'Normalized Emissions',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            tooltip : {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#6a7985'
                    }
                },
                //position: 'bottom'
                //formatter: "Template formatter: <br/>{b}<br/>{a}:{c}<br/>{a1}:{c1}"
            },
            toolbox: {
                /*feature: {
                    saveAsImage: {}
                }*/
            },
            grid: {
                top: '12%',
                left: '10%',
                right: '15%',
                bottom: '8%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'category',
                    boundaryGap : false,
                    data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 24,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    name: 'Emissions Per 1000sqft (tons/1000sqft)',
                    nameLocation: 'middle',
                    nameGap: 40,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            series : [
                {
                    name: 'NormalizedEmissions',
                    type: 'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data: divide(multiply(emissions.totalEmissions,[1000]),divide(buildingSpace.totalSqft,[1000]))
                },
            ]
        };
        normalizedEmissionsPlot.setOption(normalizedEmissionsPlotOption);
                  
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//MAC Chart
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	let MACPlot = echarts.init(document.getElementById('MACPlot'));

	let MACPlotOption = {
		title: {
			text: 'Project Cost Effectiveness',
			left: 'center',
            textStyle: {
                color: 'white',
                fontFamily: 'sans-serif'
            },
		},
		tooltip : {
			trigger: 'axis',
			axisPointer: {
				type: 'cross',
				label: {
					backgroundColor: '#6a7985'
				}
			},
		},
		grid: {
			left: '6%',
			right: '4%',
            top: '12%',
			bottom: '5%',
			containLabel: true
		},
		xAxis :	{
				type : 'category',
				//boundaryGap : true,
				axisTick:{
					show: true,
					alignWithLabel: false,
					interval: 1
				},
				axisLabel:{
					show: true,
					//rotate: 30,
					formatter: function(value,index){
						if(value==='LED'){
							return 'P1';
						}else if(value==='Solar Roof'){
							return 'P2';
						}else if(value==='Commissioning'){
							return 'P3';
						}else if(value==='Plant Automation'){
							return 'P4';
						}else if(value==='Electric Fleet'){
							return 'P6';
						}else if(value==='Electric Commute'){
							return 'P7';
						}else if(value==='Smart Labs'){
                            return 'P5';
                        }
					},
				},
				data: ['LED','Solar Roof','Commissioning','Plant Automation','Smart Labs','Electric Fleet','Electric Commute'],
				name: 'kTCO2',
				nameLocation: 'middle',
				nameGap: 36,
                nameTextStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
                axisLine: {
                    lineStyle: {
                        color: 'darkgray'
                    }
                },
                axisTick: {
                    lineStyle: {
                        color: 'darkgray'
                    }
                },
                axisLabel: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                }
		},
		yAxis : {
				type : 'value',
				name: '$/TCO2',
				nameLocation: 'middle',
				nameGap: 30,
                nameTextStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
                axisLine: {
                    lineStyle: {
                        color: 'darkgray'
                    }
                },
                axisTick: {
                    lineStyle: {
                        color: 'darkgray'
                    }
                },
                axisLabel: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                }
				//min: -200,
				//max:200,
				//boundaryGap: [0.2,0.2]
			},
		series : [
			{
				//name:'Scope 1',
				type:'bar',
				barWidth:1,
				/*xAxisIndex: 1,
            	yAxisIndex: 1,*/
				//stack: '总量',
				//areaStyle: {normal: {}},
				data:[
					{
						value: [scenarios.led.getNetCost()[0].reduce((accumulator,currentValue) => accumulator + currentValue)/scenarios.led.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)]*1000,
						itemStyle:{
							color:'rgb(255,0,0)',
							barBorderWidth:scenarios.led.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)/40
						},
					},
					{
						value:[scenarios.solarRoof.getNetCost()[0].reduce((accumulator,currentValue) => accumulator + currentValue)/scenarios.solarRoof.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)]*1000,
						itemStyle:{
							color:'rgb(255,0,0)',
							barBorderWidth:scenarios.solarRoof.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)/40
						},						
					},
					{
						value:[scenarios.commissioning.getNetCost()[0].reduce((accumulator,currentValue) => accumulator + currentValue)/scenarios.commissioning.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)]*1000,
						itemStyle:{
							color:'rgb(255,0,0)',
							barBorderWidth:scenarios.commissioning.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)/40
						},
					},
					{
						value:[scenarios.plantAutomation.getNetCost()[0].reduce((accumulator,currentValue) => accumulator + currentValue)/scenarios.plantAutomation.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)]*1000,
						itemStyle:{
							color:'rgb(255,0,0)',
							barBorderWidth:scenarios.plantAutomation.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)/40
						},
					},
                    {
						value:[scenarios.smartLabs.getNetCost()[0].reduce((accumulator,currentValue) => accumulator + currentValue)/scenarios.smartLabs.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)]*1000,
						itemStyle:{
							color:'rgb(255,0,0)',
							barBorderWidth:scenarios.smartLabs.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)/40
						},
					},
					{
						value:[scenarios.electricFleet.getNetCost()[0].reduce((accumulator,currentValue) => accumulator + currentValue)/scenarios.electricFleet.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)]*1000,
						itemStyle:{
							color:'rgb(255,0,0)',
							barBorderWidth:scenarios.electricFleet.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)/40
						},
					},
					{
						value:[scenarios.electricCommute.getNetCost()[0].reduce((accumulator,currentValue) => accumulator + currentValue)/scenarios.electricCommute.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)],
						itemStyle:{
							color:'rgb(255,0,0)',
							barBorderWidth:scenarios.electricCommute.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)/40
						},
					}
					],
				/*itemStyle:{
					normal:{
						barBorderColor:'rgb(0,0,255)',
						barBorderWidth:0
					}
				},*/
				//barGap:'20%',
				/*label: {
                	normal: {
                    	show: true,
                    	position: 'top',
						formatter: function(value,index){
							console.log(value);
							let carbonSavings = [Math.round(scenarios.led.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)),Math.round(scenarios.solarRoof.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)),Math.round(scenarios.commissioning.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)),Math.round(scenarios.plantAutomation.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)),Math.round(scenarios.electricFleet.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue)),Math.round(scenarios.electricCommute.getNetCost()[1].reduce((accumulator,currentValue) => accumulator + currentValue))];
							//console.log(Math.round(scenarios[value.name.trim()].getNetCost()[1][30]));
							return carbonSavings[value.dataIndex];
						}
                	}
            	},*/
			},
		]
	};
	MACPlot.setOption(MACPlotOption);
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//Savings v Cost Chart
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	let SavingsVCostPlot = echarts.init(document.getElementById('SavingsVCostPlot'));
        
	let SavingsVCostPlotOption = {
		title: {
			text: 'Savings v Cost',
			left: 'center',
            textStyle: {
                color: 'white',
                fontFamily: 'sans-serif'
            },
		},
/*		tooltip: { 
			formatter : function (params) {
				if (params.value.length > 1) {
					return params.seriesName + ' :<br/>'
					+ params.value[0] + 'cm '
					+ params.value[1] + 'kg ';
				}
				else {
					return params.seriesName + ' :<br/>'
					+ params.name + ' : '
					+ params.value + 'kg ';
				}
			},
			axisPointer:{
            show: true,
            type : 'cross',
            lineStyle: {
                type : 'dashed',
                width : 1
            	}
        	}
		},*/
		tooltip : {
			//trigger: 'axis',
			axisPointer: {
				type: 'cross',
				label: {
					backgroundColor: '#6a7985'
				}
			},
			/*position: [50,-1000],*/
			//position: 'bottom'
			formatter: '{a}'
		},
		toolbox: {
			/*feature: {
				saveAsImage: {}
			}*/
		},
		grid: {
			left: '8%',
			right: '4%',
            top: '12%',
			bottom: '8%',
			containLabel: true
		},
		xAxis : [
			{
				type : 'value',
				boundaryGap : false,
				//data : [10,30,50],
				name: 'Cost ($MM)',
				nameLocation: 'middle',
				nameGap: 28,
				min: 0,
				//max: 200
                nameTextStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
                axisLine: {
                    lineStyle: {
                        color: 'darkgray'
                    }
                },
                axisTick: {
                    lineStyle: {
                        color: 'darkgray'
                    }
                },
                axisLabel: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                }
			}
		],
		yAxis : [
			{
				type : 'value',
				name: 'Savings ($MM)',
				nameLocation: 'middle',
				nameGap: 35,
				min: 0,
				//max:200
                nameTextStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
                axisLine: {
                    lineStyle: {
                        color: 'darkgray'
                    }
                },
                axisTick: {
                    lineStyle: {
                        color: 'darkgray'
                    }
                },
                axisLabel: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                }
			}
		],
		series : [
			{
				name:'LED',
				type:'scatter',
				//stack: '总量',
				//areaStyle: {normal: {}},
				data:[scenarios.led.getNetCost()[3].reduce((accumulator,currentValue) => accumulator + currentValue),scenarios.led.getNetCost()[2].reduce((accumulator,currentValue) => accumulator + currentValue)],
			},
			{
				name:'Solar Roof',
				type:'scatter',
				//stack: '总量',
				//areaStyle: {normal: {}},
				data:[scenarios.solarRoof.getNetCost()[3].reduce((accumulator,currentValue) => accumulator + currentValue),scenarios.solarRoof.getNetCost()[2].reduce((accumulator,currentValue) => accumulator + currentValue)]
			},
			{
				name:'Commissioning',
				type:'scatter',
				data:[scenarios.commissioning.getNetCost()[3].reduce((accumulator,currentValue) => accumulator + currentValue),scenarios.commissioning.getNetCost()[2].reduce((accumulator,currentValue) => accumulator + currentValue)]
			},
			{
				name:'Plant Automation',
				type:'scatter',
				data:[scenarios.plantAutomation.getNetCost()[3].reduce((accumulator,currentValue) => accumulator + currentValue),scenarios.plantAutomation.getNetCost()[2].reduce((accumulator,currentValue) => accumulator + currentValue)],
			},
            {
				name:'Smart Labs',
				type:'scatter',
				data:[scenarios.smartLabs.getNetCost()[3].reduce((accumulator,currentValue) => accumulator + currentValue),scenarios.smartLabs.getNetCost()[2].reduce((accumulator,currentValue) => accumulator + currentValue)]
			},
			{
				name:'Electric Fleet',
				type:'scatter',
				data:[scenarios.electricFleet.getNetCost()[3].reduce((accumulator,currentValue) => accumulator + currentValue),scenarios.electricFleet.getNetCost()[2].reduce((accumulator,currentValue) => accumulator + currentValue)]
			},
			{
				name:'Electric Commute',
				type:'scatter',
				data:[scenarios.electricCommute.getNetCost()[3].reduce((accumulator,currentValue) => accumulator + currentValue),scenarios.electricCommute.getNetCost()[2].reduce((accumulator,currentValue) => accumulator + currentValue)]
			},
			{
				name:'Unity Line',
				type:'line',
				stack: '总量',
				//areaStyle: {normal: {}},
				data:[[0,0],[250,250]]
			}
		]
	};
	SavingsVCostPlot.setOption(SavingsVCostPlotOption);
		  
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//NetCost Chart
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        let netCostPlot = echarts.init(document.getElementById('netCostPlot'));
        
        let netCostPlotOption = {
            title: {
                text: 'Net Cost',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            tooltip : {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#6a7985'
                    }
                },
                //position: 'bottom'
                //formatter: "Template formatter: <br/>{b}<br/>{a}:{c}<br/>{a1}:{c1}"
            },
            toolbox: {
                /*feature: {
                    saveAsImage: {}
                }*/
            },
            grid: {
                left: '8%',
                right: '4%',
                top: '12%',
                bottom: '8%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'category',
                    boundaryGap : false,
                    data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 24,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    name: 'Net Cost ($MM)',
                    nameLocation: 'middle',
                    nameGap: 40,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            series : [
                {
                    name: 'Net',
                    type: 'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data: [elementWiseAdd(elementWiseAdd(elementWiseAdd(elementWiseAdd(elementWiseAdd(elementWiseAdd(elementWiseAdd(scenarios.led.getNetCost()[0],scenarios.natureConservancy.getNetCost()[0]),scenarios.plantAutomation.getNetCost()[0]),scenarios.solarRoof.getNetCost()[0]),scenarios.commissioning.getNetCost()[0]),scenarios.electricFleet.getNetCost()[0]),scenarios.electricCommute.getNetCost()[0]),scenarios.smartLabs.getNetCost()[0])],
                },
            ]
        };
        netCostPlot.setOption(netCostPlotOption);
          
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//Sqft Chart
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        /*const campusSqftChart = echarts.init(document.getElementById('campusSqftPlot'));
        const option = {
            title: {
                text: 'Campus Square Footage',
                left: 'left',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            tooltip : {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#6a7985'
                    }
                }
            },
            legend: {
                right: '5%',
                data:[{
                    name: 'Residential',
                    icon: 'image://pictures/resid-circle-filled.png'
                },
                {
                    name: 'Classroom',
                    icon: 'image://pictures/class-circle-filled.png',
                },
                {
                    name: 'Lab',
                    icon: 'image://pictures/lab-circle-filled.png',
                },
                {
                    name: 'Other',
                    icon: 'image://pictures/other-circle-filled.png',
                }
                ],
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            toolbox: {
                feature: {
                    saveAsImage: {}
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '5%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'category',
                    boundaryGap : false,
                    data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 20,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    axisLabel: {
                        formatter: '{value} Sqft'
                    },
                    name: 'Sqft',
                    nameLocation: 'middle',
                    nameGap: 70,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            series : [
                {
                    name:'Other',
                    type:'line',
                    stack: '总量',
                    areaStyle: {
                        normal: {},
                    },
                    itemStyle: {
                        color: 'rgba(128, 128, 128,.8)'
                    },
                    data:elementWiseAdd(elementWiseAdd(buildingSpace.healthLayer.sqft,buildingSpace.plantLayer.sqft),buildingSpace.other.sqft)
                },
                {
                    name:'Residential',
                    type:'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    itemStyle: {
                        color: 'rgba(128, 0, 0,.8)'
                    },
                    data:buildingSpace.residLayer.sqft,
                },
                {
                    name:'Classroom',
                    type:'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    itemStyle: {
                        color: 'rgba(0, 128, 128,.8)'
                    },
                    data:buildingSpace.classLayer.sqft,
                },
                {
                    name:'Lab',
                    type:'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    itemStyle: {
                        color: 'rgba(64, 0, 128,.8)'
                    },
                    data:buildingSpace.labLayer.sqft
                },
            ]
        };

        campusSqftChart.setOption(option);*/
          
        let campusSqft1908PieChart = echarts.init(document.getElementById('campusSqft1908PiePlot'));
        let campusSqft1908PieOption = {
            /*title: {
                text: '1908 - 201,000 sqft',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },*/
            series : [
                {
                    name:'1908',
                    type:'pie',
                    radius: '7.6%',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data:[
                        {
                            name:'Resid',
                            itemStyle: {
                                color: 'rgba(128, 0, 0,.8)'
                            },
                            value:58110 //swann, knowles
                        },
                        {
                            name:'Class',
                            itemStyle: {
                                color: 'rgba(0, 73, 144,.8)'
                            },
                            value:69293 //savant, carnegie (library) ,academic (now evans, whitehead, pate)
                        },
                        /*{
                            name:'Plant',
                            itemStyle: {
                                color: 'rgba(64, 0, 128,.8)'
                            },
                            value:buildingSpace.plantLayer.sqft[0]
                        },*/
                        {
                            name:'Lab',
                            itemStyle: {
                                color: 'rgba(0, 148, 96,.8)'
                            },
                            value:73626 //lyman (chemistry), french (textiles), old shop (bio building)
                        },
                        {
                            name:'Other',
                            itemStyle: {
                                color: 'rgba(128, 128, 128,.8)'
                            },
                            value:0
                        }
                        /*{
                            name:'Health',
                            itemStyle: {
                                color: 'rgba(64, 0, 128,.8)'
                            },
                            value:buildingSpace.healthLayer.sqft[0]
                        }*/
                    ],
                    label: {
                        normal: {
                            textStyle: {
                                color: 'rgba(255, 255, 255, 0.9)'
                            },
                            formatter: '{b}: {d}%',
                            position: 'outside'
                        },
                    }
                },
            ]
        };
        campusSqft1908PieChart.setOption(campusSqft1908PieOption);
          
        
        let campusSqft2018PieChart = echarts.init(document.getElementById('campusSqft2018PiePlot'));
        let campusSqft2018PieOption = {
            /*title: {
                text: '2018 - 13.4 MMsqft',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },*/
            grid: {
                left: '3%',
                right: '4%',
                bottom: '5%',
                containLabel: false
            },
            series : [
                {
                    name:'2018',
                    type:'pie',
                    radius: '62%',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data:[
                        {
                            name:'Resid',
                            itemStyle: {
                                color: 'rgba(128, 0, 0,.8)'
                            },
                            value:buildingSpace.residLayer.sqft[10]
                        },
                        {
                            name:'Class',
                            itemStyle: {
                                color: 'rgba(0, 73, 144,.8)'
                            },
                            value:buildingSpace.classLayer.sqft[10]
                        },
                        /*{
                            name:'Plant',
                            itemStyle: {
                                color: 'rgba(64, 0, 128,.8)'
                            },
                            value:buildingSpace.plantLayer.sqft[0]
                        },*/
                        {
                            name:'Lab',
                            itemStyle: {
                                color: 'rgba(0, 148, 96,.8)'
                            },
                            value:buildingSpace.labLayer.sqft[10]
                        },
                        {
                            name:'Other',
                            itemStyle: {
                                color: 'rgba(128, 128, 128,.8)'
                            },
                            value:elementWiseAdd(elementWiseAdd(buildingSpace.healthLayer.sqft,buildingSpace.plantLayer.sqft),buildingSpace.other.sqft)[10]
                        }
                        /*{
                            name:'Health',
                            itemStyle: {
                                color: 'rgba(64, 0, 128,.8)'
                            },
                            value:buildingSpace.healthLayer.sqft[0]
                        }*/
                    ],
                    label: {
                        formatter: '{b}: {d}%',
                        position: 'inside'
                    }
                },
            ]
        };
        campusSqft2018PieChart.setOption(campusSqft2018PieOption);
          
        let campusSqft2050PieChart = echarts.init(document.getElementById('campusSqft2050PiePlot'));
        let campusSqft2050PieOption = {
            /*title: {
                text: '2050 - 28 MMsqft',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },*/
            grid: {
                left: '3%',
                right: '4%',
                bottom: '5%',
                containLabel: false
            },
            series : [
                {
                    name:'2050',
                    type:'pie',
                    radius: '58%',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data:[
                        {
                            name:'Resid',
                            itemStyle: {
                                color: 'rgba(0, 148, 96,.8)'
                            },
                            value:buildingSpace.residLayer.sqft[buildingSpace.residLayer.sqft.length-1]
                        },
                        {
                            name:'Class',
                            itemStyle: {
                                color: 'rgba(0, 73, 144,.8)'
                            },
                            value:buildingSpace.classLayer.sqft[buildingSpace.classLayer.sqft.length-1]
                        },
                        /*{
                            name:'Plant',
                            value:buildingSpace.plantLayer.sqft[buildingSpace.plantLayer.sqft.length-1]
                        },*/
                        {
                            name:'Lab',
                            itemStyle: {
                                color: 'rgba(221, 72, 0,.8)'
                            },
                            value:buildingSpace.labLayer.sqft[buildingSpace.labLayer.sqft.length-1]
                        },
                        /*{
                            name:'Health',
                            value:buildingSpace.healthLayer.sqft[buildingSpace.healthLayer.sqft.length-1]
                        }*/
                        {
                            name:'Other',
                            itemStyle: {
                                color: 'rgba(128, 128, 128,.8)'
                            },
                            value:elementWiseAdd(elementWiseAdd(buildingSpace.healthLayer.sqft,buildingSpace.plantLayer.sqft),buildingSpace.other.sqft)[buildingSpace.labLayer.sqft.length-1]
                        }
                    ],
                    label: {
                        formatter: '{b}: {d}%',
                        position: 'inside'
                    }
                },
            ]
        };
        campusSqft2050PieChart.setOption(campusSqft2050PieOption);

//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//Student Growth Chart
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        const symbolSize = 10;
        
        let studentGrowthChart = echarts.init(document.getElementById('studentGrowthPlot'));
        const xMin = 2008;
        const xMax = 2050;
        const yMin = 0;
        const yMax = 70000;

        let studentGrowthOption = {
            title: {
                text: 'Student Pop. Growth',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            tooltip: {
                triggerOn: 'none',
                formatter: function (params) {
                    return 'X: ' + params.data[0].toFixed(2) + '<br>Y: ' + params.data[1].toFixed(2);
                }
            },
            grid: {
                left: '8%',
                right: '5%',
                bottom: '6%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'value',
                    boundaryGap : false,
                    min: xMin,
                    max: xMax,
                    //data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 20,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    /*axisLabel: {
                        formatter: '{value} Sqft'
                    },*/
                    name: 'Population',
                    nameLocation: 'middle',
                    nameGap: 50,
                    min: yMin,
                    max: yMax,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            series: [
                {
                    id: 'studentGrowth',
                    type: 'line',
                    smooth: false,
                    symbolSize: 10,
                    data: BAUGrowth.studentGrowth.selected,
                }
            ],
        };
        
        studentGrowthChart.setOption(studentGrowthOption);
        
        studentGrowthChart.setOption({
            graphic: echarts.util.map(BAUGrowth.studentGrowth.selected, function (item, dataIndex) {
                return {
                    type: 'circle',
                    position: studentGrowthChart.convertToPixel('grid', item),
                    shape: {
                        r: symbolSize / 2
                    },
                    invisible: true,
                    draggable: true,
                    ondrag: echarts.util.curry(onStudentPointDragging, dataIndex),
                    ondragend: echarts.util.curry(onStudentDragEnd, dataIndex),
                    onmousemove: echarts.util.curry(showStudentTooltip, dataIndex),
                    onmouseout: echarts.util.curry(hideStudentTooltip, dataIndex),
                    z: 100
                };
            })
        });
        studentGrowthOption = studentGrowthChart.getOption();
        //studentGrowthOption.graphic[0].elements[42].draggable = true;
        /*for(i=9;i<studentGrowthOption.series[0].data.length;i++){
            console.log(studentGrowthOption.series[0].data)
            studentGrowthOption.series[0].data[i].symbolSize = 10;
        }*/
        studentGrowthChart.setOption(studentGrowthOption);

        let studentGrowthDataPositions = [];
        for(i=0;i<studentGrowthOption.series[0].data.length;i++){
            studentGrowthDataPositions[i] = studentGrowthChart.getOption().graphic[0].elements[i].position;
        }

        window.addEventListener('resize', function () {
            studentGrowthChart.setOption({
                graphic: echarts.util.map(BAUGrowth.studentGrowth.selected, function (item, dataIndex) {
                    return {
                        position: studentGrowthChart.convertToPixel('grid', item)
                    };
                })
            });
        });

        function showStudentTooltip(dataIndex) {
            studentGrowthChart.dispatchAction({
                type: 'showTip',
                seriesIndex: 0,
                dataIndex: dataIndex
            });
        }

        function hideStudentTooltip(dataIndex) {
            studentGrowthChart.dispatchAction({
                type: 'hideTip'
            });
        }

        function onStudentPointDragging(dataIndex, dx, dy) {
            studentGrowthDataPositions = [];
            for(i=0;i<studentGrowthOption.series[0].data.length;i++){
                studentGrowthDataPositions[i] = studentGrowthChart.getOption().graphic[0].elements[i].position;
            };
            data = BAUGrowth.studentGrowth.selected;
            //console.log(data[dataIndex]);
            data[dataIndex] = studentGrowthChart.convertFromPixel('grid', [studentGrowthDataPositions[dataIndex][0],this.position[1]]);
            //console.log(data[dataIndex]);
            if(data[dataIndex][1]>yMax){
                data[dataIndex][1] = yMax;
            }else if(data[dataIndex][1]<yMin){
                data[dataIndex][1] = yMin;
            }
            studentGrowthOption = studentGrowthChart.getOption();
            studentGrowthOption.graphic[0].elements[dataIndex].position = studentGrowthChart.convertToPixel('grid',data[dataIndex]);
            BAUGrowth.studentGrowth.selected = data;
            studentGrowthOption.series[0].data = BAUGrowth.studentGrowth.selected;
            studentGrowthChart.setOption(studentGrowthOption);
        }
        
        function onStudentDragEnd(){
            refreshBAU();
        }
        studentGrowthOption = studentGrowthChart.getOption();
 
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//Faculty Growth Chart
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        let facultyGrowthChart = echarts.init(document.getElementById('facultyGrowthPlot'));
        const yMinFaculty = 0;
        const yMaxFaculty = 20000;

        let facultyGrowthOption = {
            title: {
                text: 'Faculty Pop. Growth',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            tooltip: {
                triggerOn: 'none',
                formatter: function (params) {
                    return 'X: ' + params.data[0].toFixed(2) + '<br>Y: ' + params.data[1].toFixed(2);
                }
            },
            grid: {
                left: '8%',
                right: '5%',
                bottom: '6%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'value',
                    boundaryGap : false,
                    min: xMin,
                    max: xMax,
                    //data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 20,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    /*axisLabel: {
                        formatter: '{value} Sqft'
                    },*/
                    name: 'Population',
                    nameLocation: 'middle',
                    nameGap: 50,
                    min: yMinFaculty,
                    max: yMaxFaculty,
                        nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            series: [
                {
                    id: 'facultyGrowth',
                    type: 'line',
                    smooth: true,
                    symbolSize: 10,
                    data: BAUGrowth.facultyGrowth.selected
                }
            ],
        };
        
        facultyGrowthChart.setOption(facultyGrowthOption);
        
        facultyGrowthChart.setOption({
            graphic: echarts.util.map(BAUGrowth.facultyGrowth.selected, function (item, dataIndex) {
                return {
                    type: 'circle',
                    position: facultyGrowthChart.convertToPixel('grid', item),
                    shape: {
                        r: symbolSize / 2
                    },
                    invisible: true,
                    draggable: true,
                    ondrag: echarts.util.curry(onFacultyPointDragging, dataIndex),
                    ondragend: echarts.util.curry(onFacultyDragEnd, dataIndex),
                    onmousemove: echarts.util.curry(showFacultyTooltip, dataIndex),
                    onmouseout: echarts.util.curry(hideFacultyTooltip, dataIndex),
                    z: 100
                };
            })
        });
        facultyGrowthOption = facultyGrowthChart.getOption();
        //facultyGrowthOption.graphic[0].elements[42].draggable = true;
        facultyGrowthChart.setOption(facultyGrowthOption);

        let facultyGrowthDataPositions = [];
        for(i=0;i<facultyGrowthOption.series[0].data.length;i++){
            facultyGrowthDataPositions[i] = facultyGrowthChart.getOption().graphic[0].elements[i].position;
        }

        window.addEventListener('resize', function () {
            facultyGrowthChart.setOption({
                graphic: echarts.util.map(BAUGrowth.facultyGrowth.selected, function (item, dataIndex) {
                    return {
                        position: facultyGrowthChart.convertToPixel('grid', item)
                    };
                })
            });
        });

        function showFacultyTooltip(dataIndex) {
            facultyGrowthChart.dispatchAction({
                type: 'showTip',
                seriesIndex: 0,
                dataIndex: dataIndex
            });
        }

        function hideFacultyTooltip(dataIndex) {
            facultyGrowthChart.dispatchAction({
                type: 'hideTip'
            });
        }

        function onFacultyPointDragging(dataIndex, dx, dy) {
            //console.log(facultyGrowthDataPairs);
            facultyGrowthDataPositions = [];
            for(i=0;i<facultyGrowthOption.series[0].data.length;i++){
                facultyGrowthDataPositions[i] = facultyGrowthChart.getOption().graphic[0].elements[i].position;
            };
            data = BAUGrowth.facultyGrowth.selected;
            data[dataIndex] = facultyGrowthChart.convertFromPixel('grid', [facultyGrowthDataPositions[dataIndex][0],this.position[1]]);
            if(data[dataIndex][1]>yMaxFaculty){
                data[dataIndex][1] = yMaxFaculty;
            }else if(data[dataIndex][1]<yMinFaculty){
                data[dataIndex][1] = yMinFaculty;
            }
            facultyGrowthOption = facultyGrowthChart.getOption();
            facultyGrowthOption.graphic[0].elements[dataIndex].position = facultyGrowthChart.convertToPixel('grid',data[dataIndex]);
            BAUGrowth.facultyGrowth.selected = data;
            facultyGrowthOption.series[0].data = BAUGrowth.facultyGrowth.selected;
            facultyGrowthChart.setOption(facultyGrowthOption);
        }
        
        function onFacultyDragEnd(){
            refreshBAU();
        }
 
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//Research Growth Chart
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~        
        let researchGrowthChart = echarts.init(document.getElementById('researchGrowthPlot'));
        const yMinResearch = 0;
        const yMaxResearch = 2000;

        let researchGrowthOption = {
            title: {
                text: 'Research Growth',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            tooltip: {
                triggerOn: 'none',
                formatter: function (params) {
                    return 'X: ' + params.data[0].toFixed(2) + '<br>Y: ' + params.data[1].toFixed(2);
                }
            },
            grid: {
                left: '12%',
                right: '5%',
                bottom: '6%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'value',
                    boundaryGap : false,
                    min: xMin,
                    max: xMax,
                    //data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 20,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    /*axisLabel: {
                        formatter: '{value} Sqft'
                    },*/
                    name: 'Funding (Millions 2009$)',
                    nameLocation: 'middle',
                    nameGap: 40,
                    min: yMinResearch,
                    max: yMaxResearch,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            series: [
                {
                    id: 'researchGrowth',
                    type: 'line',
                    smooth: true,
                    symbolSize: 10,
                    data: BAUGrowth.researchGrowth.selected
                }
            ],
        };
        
        researchGrowthChart.setOption(researchGrowthOption);
        
        researchGrowthChart.setOption({
            graphic: echarts.util.map(BAUGrowth.researchGrowth.selected, function (item, dataIndex) {
                return {
                    type: 'circle',
                    position: researchGrowthChart.convertToPixel('grid', item),
                    shape: {
                        r: symbolSize / 2
                    },
                    invisible: true,
                    draggable: true,
                    ondrag: echarts.util.curry(onResearchPointDragging, dataIndex),
                    ondragend: echarts.util.curry(onResearchDragEnd, dataIndex),
                    onmousemove: echarts.util.curry(showResearchTooltip, dataIndex),
                    onmouseout: echarts.util.curry(hideResearchTooltip, dataIndex),
                    z: 100
                };
            })
        });
        researchGrowthOption = researchGrowthChart.getOption();
        //researchGrowthOption.graphic[0].elements[42].draggable = true;
        researchGrowthChart.setOption(researchGrowthOption);

        let researchGrowthDataPositions = [];
        for(i=0;i<researchGrowthOption.series[0].data.length;i++){
            researchGrowthDataPositions[i] = researchGrowthChart.getOption().graphic[0].elements[i].position;
        }

        window.addEventListener('resize', function () {
            researchGrowthChart.setOption({
                graphic: echarts.util.map(BAUGrowth.researchGrowth.selected, function (item, dataIndex) {
                    return {
                        position: researchGrowthChart.convertToPixel('grid', item)
                    };
                })
            });
        });

        function showResearchTooltip(dataIndex) {
            researchGrowthChart.dispatchAction({
                type: 'showTip',
                seriesIndex: 0,
                dataIndex: dataIndex
            });
        }

        function hideResearchTooltip(dataIndex) {
            researchGrowthChart.dispatchAction({
                type: 'hideTip'
            });
        }

        function onResearchPointDragging(dataIndex, dx, dy) {
            //console.log(researchGrowthDataPairs);
            researchGrowthDataPositions = [];
            for(i=0;i<researchGrowthOption.series[0].data.length;i++){
                researchGrowthDataPositions[i] = researchGrowthChart.getOption().graphic[0].elements[i].position;
            };
            data = BAUGrowth.researchGrowth.selected;
            data[dataIndex] = researchGrowthChart.convertFromPixel('grid', [researchGrowthDataPositions[dataIndex][0],this.position[1]]);
            if(data[dataIndex][1]>yMaxResearch){
                data[dataIndex][1] = yMaxResearch;
            }else if(data[dataIndex][1]<yMinResearch){
                data[dataIndex][1] = yMinResearch;
            }
            researchGrowthOption = researchGrowthChart.getOption();
            researchGrowthOption.graphic[0].elements[dataIndex].position = researchGrowthChart.convertToPixel('grid',data[dataIndex]);
            BAUGrowth.researchGrowth.selected = data;
            researchGrowthOption.series[0].data = BAUGrowth.researchGrowth.selected;
            researchGrowthChart.setOption(researchGrowthOption);
        }
        
        function onResearchDragEnd(){
            refreshBAU();
        }

//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//Scenarios Plots
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
//LED~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        let ledChart = echarts.init(document.getElementById('ledPlot'));
        const yMinLed = 0;
        const yMaxLed = 100;

        let ledOption = {
            title: {
                text: 'LED Conversion Rate',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            tooltip: {
                triggerOn: 'none',
                formatter: function (params) {
                    return 'X: ' + params.data[0].toFixed(2) + '<br>Y: ' + params.data[1].toFixed(2);
                }
            },
            grid: {
                top: '20%',
                left: '8%',
                right: '5%',
                bottom: '6%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'value',
                    boundaryGap : false,
                    min: xMin,
                    max: xMax,
                    //data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 20,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    /*axisLabel: {
                        formatter: '{value} Sqft'
                    },*/
                    min: yMinLed,
                    max: yMaxLed,
                    name: 'Conversion Rate (%)',
                    nameLocation: 'middle',
                    nameGap: 30,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            series: [
                {
                    id: 'ledConversion',
                    type: 'line',
                    smooth: false,
                    symbolSize: 8,
                    data: scenarios.led.conversionRate
                }
            ],
        };
        
        ledChart.setOption(ledOption);
        
        ledChart.setOption({
            graphic: echarts.util.map(scenarios.led.conversionRate, function (item, dataIndex) {
                return {
                    type: 'circle',
                    position: ledChart.convertToPixel('grid', item),
                    shape: {
                        r: symbolSize / 2
                    },
                    invisible: true,
                    draggable: true,
                    ondrag: echarts.util.curry(onLedPointDragging, dataIndex),
                    ondragend: echarts.util.curry(onLedDragEnd, dataIndex),
                    onmousemove: echarts.util.curry(showLedTooltip, dataIndex),
                    onmouseout: echarts.util.curry(hideLedTooltip, dataIndex),
                    z: 100
                };
            })
        });
        ledOption = ledChart.getOption();
        ledChart.setOption(ledOption);

        let ledDataPositions = [];
        for(i=0;i<ledOption.series[0].data.length;i++){
            ledDataPositions[i] = ledChart.getOption().graphic[0].elements[i].position;
        }

        window.addEventListener('resize', function () {
            ledChart.setOption({
                graphic: echarts.util.map(scenarios.led.conversionRate, function (item, dataIndex) {
                    return {
                        position: ledChart.convertToPixel('grid', item)
                    };
                })
            });
        });

        function showLedTooltip(dataIndex) {
            ledChart.dispatchAction({
                type: 'showTip',
                seriesIndex: 0,
                dataIndex: dataIndex
            });
        }

        function hideLedTooltip(dataIndex) {
            ledChart.dispatchAction({
                type: 'hideTip'
            });
        }

        function onLedPointDragging(dataIndex, dx, dy) {
            //console.log(facultyGrowthDataPairs);
            ledDataPositions = [];
            for(i=0;i<ledOption.series[0].data.length;i++){
                ledDataPositions[i] = ledChart.getOption().graphic[0].elements[i].position;
            };
            data = scenarios.led.conversionRate;
            data[dataIndex] = ledChart.convertFromPixel('grid', [ledDataPositions[dataIndex][0],this.position[1]]);
            if(data[dataIndex][1]>yMaxLed){
                data[dataIndex][1] = yMaxLed;
            }else if(data[dataIndex][1]<yMinLed){
                data[dataIndex][1] = yMinLed;
            };
            ledOption = ledChart.getOption();
            ledOption.graphic[0].elements[dataIndex].position = ledChart.convertToPixel('grid',data[dataIndex]);
            scenarios.led.conversionRate = data;
            ledOption.series[0].data = scenarios.led.conversionRate;
            ledChart.setOption(ledOption);
        }
        
        function onLedDragEnd(){
            refreshScenarios();
        }
        ledOption = ledChart.getOption();
          
//Solar Roof~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        let solarRoofChart = echarts.init(document.getElementById('solarRoofPlot'));
        const yMinSolarRoof = 0;
        const yMaxSolarRoof = 100;

        let solarRoofOption = {
            title: {
                text: 'Solar Roof Implementation',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            tooltip: {
                triggerOn: 'none',
                formatter: function (params) {
                    return 'X: ' + params.data[0].toFixed(2) + '<br>Y: ' + params.data[1].toFixed(2);
                }
            },
            grid: {
                top: '20%',
                left: '8%',
                right: '5%',
                bottom: '6%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'value',
                    boundaryGap : false,
                    min: xMin,
                    max: xMax,
                    //data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 20,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    /*axisLabel: {
                        formatter: '{value} Sqft'
                    },*/
                    min: yMinSolarRoof,
                    max: yMaxSolarRoof,
                    name: 'Conversion Rate (%)',
                    nameLocation: 'middle',
                    nameGap: 30,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            series: [
                {
                    id: 'solarRoofConversion',
                    type: 'line',
                    smooth: false,
                    symbolSize: 10,
                    data: scenarios.solarRoof.implementationRate
                }
            ],
        };
        
        solarRoofChart.setOption(solarRoofOption);
        
        solarRoofChart.setOption({
            graphic: echarts.util.map(scenarios.solarRoof.implementationRate, function (item, dataIndex) {
                return {
                    type: 'circle',
                    position: solarRoofChart.convertToPixel('grid', item),
                    shape: {
                        r: symbolSize / 2
                    },
                    invisible: true,
                    draggable: true,
                    ondrag: echarts.util.curry(onSolarRoofPointDragging, dataIndex),
                    ondragend: echarts.util.curry(onSolarRoofDragEnd, dataIndex),
                    onmousemove: echarts.util.curry(showSolarRoofTooltip, dataIndex),
                    onmouseout: echarts.util.curry(hideSolarRoofTooltip, dataIndex),
                    z: 100
                };
            })
        });
        solarRoofOption = solarRoofChart.getOption();
        solarRoofChart.setOption(solarRoofOption);

        let solarRoofDataPositions = [];
        for(i=0;i<solarRoofOption.series[0].data.length;i++){
            solarRoofDataPositions[i] = solarRoofChart.getOption().graphic[0].elements[i].position;
        }

        window.addEventListener('resize', function () {
            solarRoofChart.setOption({
                graphic: echarts.util.map(scenarios.solarRoof.implementationRate, function (item, dataIndex) {
                    return {
                        position: solarRoofChart.convertToPixel('grid', item)
                    };
                })
            });
        });

        function showSolarRoofTooltip(dataIndex) {
            solarRoofChart.dispatchAction({
                type: 'showTip',
                seriesIndex: 0,
                dataIndex: dataIndex
            });
        }

        function hideSolarRoofTooltip(dataIndex) {
            solarRoofChart.dispatchAction({
                type: 'hideTip'
            });
        }

        function onSolarRoofPointDragging(dataIndex, dx, dy) {
            //console.log(facultyGrowthDataPairs);
            solarRoofDataPositions = [];
            for(i=0;i<solarRoofOption.series[0].data.length;i++){
                solarRoofDataPositions[i] = solarRoofChart.getOption().graphic[0].elements[i].position;
            };
            data = scenarios.solarRoof.implementationRate;
            data[dataIndex] = solarRoofChart.convertFromPixel('grid', [solarRoofDataPositions[dataIndex][0],this.position[1]]);
            if(data[dataIndex][1]>yMaxSolarRoof){
                data[dataIndex][1] = yMaxSolarRoof;
            }else if(data[dataIndex][1]<yMinSolarRoof){
                data[dataIndex][1] = yMinSolarRoof;
            };
            solarRoofOption = solarRoofChart.getOption();
            solarRoofOption.graphic[0].elements[dataIndex].position = solarRoofChart.convertToPixel('grid',data[dataIndex]);
            scenarios.solarRoof.implementationRate = data;
            solarRoofOption.series[0].data = scenarios.solarRoof.implementationRate;
            solarRoofChart.setOption(solarRoofOption);
        }
        
        function onSolarRoofDragEnd(){
            refreshScenarios();
        }
          
          
          
//Smart Labs~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        let smartLabsChart = echarts.init(document.getElementById('smartLabsPlot'));
        const yMinSmartLabs = 0;
        const yMaxSmartLabs = 100;

        let smartLabsOption = {
            title: {
                text: 'Smart Labs Conversion Rate',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            tooltip: {
                triggerOn: 'none',
                formatter: function (params) {
                    return 'X: ' + params.data[0].toFixed(2) + '<br>Y: ' + params.data[1].toFixed(2);
                }
            },
            grid: {
                top: '20%',
                left: '8%',
                right: '5%',
                bottom: '6%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'value',
                    boundaryGap : false,
                    min: xMin,
                    max: xMax,
                    //data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 20,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    /*axisLabel: {
                        formatter: '{value} Sqft'
                    },*/
                    min: yMinSmartLabs,
                    max: yMaxSmartLabs,
                    name: 'Conversion Rate (%)',
                    nameLocation: 'middle',
                    nameGap: 30,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            series: [
                {
                    id: 'smartLabsConversion',
                    type: 'line',
                    smooth: false,
                    symbolSize: 10,
                    data: scenarios.smartLabs.conversionRate
                }
            ],
        };
        
        smartLabsChart.setOption(smartLabsOption);
        
        smartLabsChart.setOption({
            graphic: echarts.util.map(scenarios.smartLabs.conversionRate, function (item, dataIndex) {
                return {
                    type: 'circle',
                    position: smartLabsChart.convertToPixel('grid', item),
                    shape: {
                        r: symbolSize / 2
                    },
                    invisible: true,
                    draggable: true,
                    ondrag: echarts.util.curry(onSmartLabsPointDragging, dataIndex),
                    ondragend: echarts.util.curry(onSmartLabsDragEnd, dataIndex),
                    onmousemove: echarts.util.curry(showSmartLabsTooltip, dataIndex),
                    onmouseout: echarts.util.curry(hideSmartLabsTooltip, dataIndex),
                    z: 100
                };
            })
        });
        smartLabsOption = smartLabsChart.getOption();
        smartLabsChart.setOption(smartLabsOption);

        let smartLabsDataPositions = [];
        for(i=0;i<smartLabsOption.series[0].data.length;i++){
            smartLabsDataPositions[i] = smartLabsChart.getOption().graphic[0].elements[i].position;
        }

        window.addEventListener('resize', function () {
            smartLabsChart.setOption({
                graphic: echarts.util.map(scenarios.smartLabs.conversionRate, function (item, dataIndex) {
                    return {
                        position: smartLabsChart.convertToPixel('grid', item)
                    };
                })
            });
        });

        function showSmartLabsTooltip(dataIndex) {
            smartLabsChart.dispatchAction({
                type: 'showTip',
                seriesIndex: 0,
                dataIndex: dataIndex
            });
        }

        function hideSmartLabsTooltip(dataIndex) {
            smartLabsChart.dispatchAction({
                type: 'hideTip'
            });
        }

        function onSmartLabsPointDragging(dataIndex, dx, dy) {
            //console.log(facultyGrowthDataPairs);
            smartLabsDataPositions = [];
            for(i=0;i<smartLabsOption.series[0].data.length;i++){
                smartLabsDataPositions[i] = smartLabsChart.getOption().graphic[0].elements[i].position;
            };
            data = scenarios.smartLabs.conversionRate;
            data[dataIndex] = smartLabsChart.convertFromPixel('grid', [smartLabsDataPositions[dataIndex][0],this.position[1]]);
            if(data[dataIndex][1]>yMaxSmartLabs){
                data[dataIndex][1] = yMaxSmartLabs;
            }else if(data[dataIndex][1]<yMinSmartLabs){
                data[dataIndex][1] = yMinSmartLabs;
            };
            smartLabsOption = smartLabsChart.getOption();
            smartLabsOption.graphic[0].elements[dataIndex].position = smartLabsChart.convertToPixel('grid',data[dataIndex]);
            scenarios.smartLabs.conversionRate = data;
            smartLabsOption.series[0].data = scenarios.smartLabs.conversionRate;
            smartLabsChart.setOption(smartLabsOption);
        }
        
        function onSmartLabsDragEnd(){
            refreshScenarios();
        }
          
//Electric Vehicles~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~          
        let electricFleetChart = echarts.init(document.getElementById('electricFleetPlot'));
        const yMinElectricFleet = 0;
        const yMaxElectricFleet = 100;

        let electricFleetOption = {
            title: {
                text: 'Fleet Conversion Rate',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            tooltip: {
                triggerOn: 'none',
                formatter: function (params) {
                    return 'X: ' + params.data[0].toFixed(2) + '<br>Y: ' + params.data[1].toFixed(2);
                }
            },
            grid: {
                top: '20%',
                left: '8%',
                right: '5%',
                bottom: '6%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'value',
                    boundaryGap : false,
                    min: xMin,
                    max: xMax,
                    //data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 20,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    /*axisLabel: {
                        formatter: '{value} Sqft'
                    },*/
                    min: yMinElectricFleet,
                    max: yMaxElectricFleet,
                    name: 'Conversion Rate (%)',
                    nameLocation: 'middle',
                    nameGap: 30,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            series: [
                {
                    id: 'electricFleetConversion',
                    type: 'line',
                    smooth: false,
                    symbolSize: 10,
                    data: scenarios.electricFleet.conversionRate
                }
            ],
        };
        
        electricFleetChart.setOption(electricFleetOption);
        
        electricFleetChart.setOption({
            graphic: echarts.util.map(scenarios.electricFleet.conversionRate, function (item, dataIndex) {
                return {
                    type: 'circle',
                    position: electricFleetChart.convertToPixel('grid', item),
                    shape: {
                        r: symbolSize / 2
                    },
                    invisible: true,
                    draggable: true,
                    ondrag: echarts.util.curry(onElectricFleetPointDragging, dataIndex),
                    ondragend: echarts.util.curry(onElectricFleetDragEnd, dataIndex),
                    onmousemove: echarts.util.curry(showElectricFleetTooltip, dataIndex),
                    onmouseout: echarts.util.curry(hideElectricFleetTooltip, dataIndex),
                    z: 100
                };
            })
        });
        electricFleetOption = electricFleetChart.getOption();
        electricFleetChart.setOption(electricFleetOption);

        let electricFleetDataPositions = [];
        for(i=0;i<electricFleetOption.series[0].data.length;i++){
            electricFleetDataPositions[i] = electricFleetChart.getOption().graphic[0].elements[i].position;
        }

        window.addEventListener('resize', function () {
            electricFleetChart.setOption({
                graphic: echarts.util.map(scenarios.electricFleet.conversionRate, function (item, dataIndex) {
                    return {
                        position: electricFleetChart.convertToPixel('grid', item)
                    };
                })
            });
        });

        function showElectricFleetTooltip(dataIndex) {
            electricFleetChart.dispatchAction({
                type: 'showTip',
                seriesIndex: 0,
                dataIndex: dataIndex
            });
        }

        function hideElectricFleetTooltip(dataIndex) {
            electricFleetChart.dispatchAction({
                type: 'hideTip'
            });
        }

        function onElectricFleetPointDragging(dataIndex, dx, dy) {
            //console.log(facultyGrowthDataPairs);
            electricFleetDataPositions = [];
            for(i=0;i<electricFleetOption.series[0].data.length;i++){
                electricFleetDataPositions[i] = electricFleetChart.getOption().graphic[0].elements[i].position;
            };
            data = scenarios.electricFleet.conversionRate;
            data[dataIndex] = electricFleetChart.convertFromPixel('grid', [electricFleetDataPositions[dataIndex][0],this.position[1]]);
            if(data[dataIndex][1]>yMaxElectricFleet){
                data[dataIndex][1] = yMaxElectricFleet;
            }else if(data[dataIndex][1]<yMinElectricFleet){
                data[dataIndex][1] = yMinElectricFleet;
            };
            electricFleetOption = electricFleetChart.getOption();
            electricFleetOption.graphic[0].elements[dataIndex].position = electricFleetChart.convertToPixel('grid',data[dataIndex]);
            scenarios.electricFleet.conversionRate = data;
            electricFleetOption.series[0].data = scenarios.electricFleet.conversionRate;
            electricFleetChart.setOption(electricFleetOption);
        }
        
        function onElectricFleetDragEnd(){
            refreshScenarios();
        }
        
        //Electric Commute~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        let electricCommuteChart = echarts.init(document.getElementById('electricCommutePlot'));
        const yMinElectricCommute = 0;
        const yMaxElectricCommute = 100;

        let electricCommuteOption = {
            title: {
                text: 'Commuter Conversion Rate',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            tooltip: {
                triggerOn: 'none',
                formatter: function (params) {
                    return 'X: ' + params.data[0].toFixed(2) + '<br>Y: ' + params.data[1].toFixed(2);
                }
            },
            grid: {
                top: '20%',
                left: '8%',
                right: '5%',
                bottom: '6%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'value',
                    boundaryGap : false,
                    min: xMin,
                    max: xMax,
                    //data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 20,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    /*axisLabel: {
                        formatter: '{value} Sqft'
                    },*/
                    min: yMinElectricCommute,
                    max: yMaxElectricCommute,
                    name: 'Conversion Rate (%)',
                    nameLocation: 'middle',
                    nameGap: 30,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            series: [
                {
                    id: 'electricCommuteConversion',
                    type: 'line',
                    smooth: false,
                    symbolSize: 10,
                    data: scenarios.electricCommute.conversionRate
                }
            ],
        };
        
        electricCommuteChart.setOption(electricCommuteOption);
        
        electricCommuteChart.setOption({
            graphic: echarts.util.map(scenarios.electricCommute.conversionRate, function (item, dataIndex) {
                return {
                    type: 'circle',
                    position: electricCommuteChart.convertToPixel('grid', item),
                    shape: {
                        r: symbolSize / 2
                    },
                    invisible: true,
                    draggable: true,
                    ondrag: echarts.util.curry(onElectricCommutePointDragging, dataIndex),
                    ondragend: echarts.util.curry(onElectricCommuteDragEnd, dataIndex),
                    onmousemove: echarts.util.curry(showElectricCommuteTooltip, dataIndex),
                    onmouseout: echarts.util.curry(hideElectricCommuteTooltip, dataIndex),
                    z: 100
                };
            })
        });
        electricCommuteOption = electricCommuteChart.getOption();
        electricCommuteChart.setOption(electricCommuteOption);

        let electricCommuteDataPositions = [];
        for(i=0;i<electricCommuteOption.series[0].data.length;i++){
            electricCommuteDataPositions[i] = electricCommuteChart.getOption().graphic[0].elements[i].position;
        }

        window.addEventListener('resize', function () {
            electricCommuteChart.setOption({
                graphic: echarts.util.map(scenarios.electricCommute.conversionRate, function (item, dataIndex) {
                    return {
                        position: electricCommuteChart.convertToPixel('grid', item)
                    };
                })
            });
        });

        function showElectricCommuteTooltip(dataIndex) {
            electricCommuteChart.dispatchAction({
                type: 'showTip',
                seriesIndex: 0,
                dataIndex: dataIndex
            });
        }

        function hideElectricCommuteTooltip(dataIndex) {
            electricCommuteChart.dispatchAction({
                type: 'hideTip'
            });
        }

        function onElectricCommutePointDragging(dataIndex, dx, dy) {
            //console.log(facultyGrowthDataPairs);
            electricCommuteDataPositions = [];
            for(i=0;i<electricCommuteOption.series[0].data.length;i++){
                electricCommuteDataPositions[i] = electricCommuteChart.getOption().graphic[0].elements[i].position;
            };
            data = scenarios.electricCommute.conversionRate;
            data[dataIndex] = electricCommuteChart.convertFromPixel('grid', [electricCommuteDataPositions[dataIndex][0],this.position[1]]);
            if(data[dataIndex][1]>yMaxElectricCommute){
                data[dataIndex][1] = yMaxElectricCommute;
            }else if(data[dataIndex][1]<yMinElectricCommute){
                data[dataIndex][1] = yMinElectricCommute;
            };
            electricCommuteOption = electricCommuteChart.getOption();
            electricCommuteOption.graphic[0].elements[dataIndex].position = electricCommuteChart.convertToPixel('grid',data[dataIndex]);
            scenarios.electricCommute.conversionRate = data;
            electricCommuteOption.series[0].data = scenarios.electricCommute.conversionRate;
            electricCommuteChart.setOption(electricCommuteOption);
        }
        
        function onElectricCommuteDragEnd(){
            refreshScenarios();
        }  
          
/*
//GaPowerSimpleSolar~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        const gaPowerSimpleSolarChart = echarts.init(document.getElementById('gaPowerSimpleSolarPlot'));
        const yMinGaPowerSimpleSolar = 0;
        const yMaxGaPowerSimpleSolar = 100;

        let gaPowerSimpleSolarOption = {
            title: {
                text: 'GP Simple Solar Offset',
                left: '18%'
            },
            tooltip: {
                triggerOn: 'none',
                formatter: function (params) {
                    return 'X: ' + params.data[0].toFixed(2) + '<br>Y: ' + params.data[1].toFixed(2);
                }
            },
            grid: {
                left: '8%',
                right: '5%',
                bottom: '6%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'value',
                    boundaryGap : false,
                    min: xMin,
                    max: xMax,
                    //data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 20
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    /*axisLabel: {
                        formatter: '{value} Sqft'
                    },
                    min: yMinGaPowerSimpleSolar,
                    max: yMaxGaPowerSimpleSolar,
                    name: 'Conversion Rate (%)',
                    nameLocation: 'middle',
                    nameGap: 30
                }
            ],
            series: [
                {
                    id: 'gaPowerSimpleSolarConversion',
                    type: 'line',
                    smooth: false,
                    symbolSize: 10,
                    data: scenarios.gaPowerSimpleSolar.conversionRate
                }
            ],
        };
        
        gaPowerSimpleSolarChart.setOption(gaPowerSimpleSolarOption);
        
        gaPowerSimpleSolarChart.setOption({
            graphic: echarts.util.map(scenarios.gaPowerSimpleSolar.conversionRate, function (item, dataIndex) {
                return {
                    type: 'circle',
                    position: gaPowerSimpleSolarChart.convertToPixel('grid', item),
                    shape: {
                        r: symbolSize / 2
                    },
                    invisible: true,
                    draggable: true,
                    ondrag: echarts.util.curry(onGaPowerSimpleSolarPointDragging, dataIndex),
                    ondragend: echarts.util.curry(onGaPowerSimpleSolarDragEnd, dataIndex),
                    onmousemove: echarts.util.curry(showGaPowerSimpleSolarTooltip, dataIndex),
                    onmouseout: echarts.util.curry(hideGaPowerSimpleSolarTooltip, dataIndex),
                    z: 100
                };
            })
        });
        gaPowerSimpleSolarOption = gaPowerSimpleSolarChart.getOption();
        gaPowerSimpleSolarChart.setOption(gaPowerSimpleSolarOption);

        let gaPowerSimpleSolarDataPositions = [];
        for(i=0;i<gaPowerSimpleSolarOption.series[0].data.length;i++){
            gaPowerSimpleSolarDataPositions[i] = gaPowerSimpleSolarChart.getOption().graphic[0].elements[i].position;
        }

        window.addEventListener('resize', function () {
            gaPowerSimpleSolarChart.setOption({
                graphic: echarts.util.map(scenarios.gaPowerSimpleSolar.conversionRate, function (item, dataIndex) {
                    return {
                        position: gaPowerSimpleSolarChart.convertToPixel('grid', item)
                    };
                })
            });
        });

        function showGaPowerSimpleSolarTooltip(dataIndex) {
            gaPowerSimpleSolarChart.dispatchAction({
                type: 'showTip',
                seriesIndex: 0,
                dataIndex: dataIndex
            });
        }

        function hideGaPowerSimpleSolarTooltip(dataIndex) {
            gaPowerSimpleSolarChart.dispatchAction({
                type: 'hideTip'
            });
        }

        function onGaPowerSimpleSolarPointDragging(dataIndex, dx, dy) {
            //console.log(facultyGrowthDataPairs);
            gaPowerSimpleSolarDataPositions = [];
            for(i=0;i<gaPowerSimpleSolarOption.series[0].data.length;i++){
                gaPowerSimpleSolarDataPositions[i] = gaPowerSimpleSolarChart.getOption().graphic[0].elements[i].position;
            };
            data = scenarios.gaPowerSimpleSolar.conversionRate;
            data[dataIndex] = gaPowerSimpleSolarChart.convertFromPixel('grid', [gaPowerSimpleSolarDataPositions[dataIndex][0],this.position[1]]);
            if(data[dataIndex][1]>yMaxGaPowerSimpleSolar){
                data[dataIndex][1] = yMaxGaPowerSimpleSolar;
            }else if(data[dataIndex][1]<yMinGaPowerSimpleSolar){
                data[dataIndex][1] = yMinGaPowerSimpleSolar;
            };
            gaPowerSimpleSolarOption = gaPowerSimpleSolarChart.getOption();
            gaPowerSimpleSolarOption.graphic[0].elements[dataIndex].position = gaPowerSimpleSolarChart.convertToPixel('grid',data[dataIndex]);
            scenarios.gaPowerSimpleSolar.conversionRate = data;
            gaPowerSimpleSolarOption.series[0].data = scenarios.gaPowerSimpleSolar.conversionRate;
            gaPowerSimpleSolarChart.setOption(gaPowerSimpleSolarOption);
        }
        
        function onGaPowerSimpleSolarDragEnd(){
            refreshScenarios();
        }
		*/
          
          
//Nature Conservancy~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        let natureConservancyChart = echarts.init(document.getElementById('natureConservancyPlot'));
        const yMinNatureConservancy = 0;
        const yMaxNatureConservancy = 100;

        let natureConservancyOption = {
            title: {
                text: 'Offset Conversion Rate',
                left: 'center',
                textStyle: {
                    color: 'white',
                    fontFamily: 'sans-serif'
                },
            },
            tooltip: {
                triggerOn: 'none',
                formatter: function (params) {
                    return 'X: ' + params.data[0].toFixed(2) + '<br>Y: ' + params.data[1].toFixed(2);
                }
            },
            grid: {
                top: '20%',
                left: '8%',
                right: '5%',
                bottom: '6%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'value',
                    boundaryGap : false,
                    min: xMin,
                    max: xMax,
                    //data : buildingSpace.year,
                    name: 'Year',
                    nameLocation: 'middle',
                    nameGap: 20,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    /*axisLabel: {
                        formatter: '{value} Sqft'
                    },*/
                    min: yMinNatureConservancy,
                    max: yMaxNatureConservancy,
                    name: 'Conversion Rate (%)',
                    nameLocation: 'middle',
                    nameGap: 30,
                    nameTextStyle: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisTick: {
                        lineStyle: {
                            color: 'darkgray'
                        }
                    },
                    axisLabel: {
                        color: 'white',
                        fontFamily: 'sans-serif'
                    }
                }
            ],
            series: [
                {
                    id: 'natureConservancyConversion',
                    type: 'line',
                    smooth: false,
                    symbolSize: 10,
                    data: scenarios.natureConservancy.conversionRate
                }
            ],
        };
        
        natureConservancyChart.setOption(natureConservancyOption);
        
        natureConservancyChart.setOption({
            graphic: echarts.util.map(scenarios.natureConservancy.conversionRate, function (item, dataIndex) {
                return {
                    type: 'circle',
                    position: natureConservancyChart.convertToPixel('grid', item),
                    shape: {
                        r: symbolSize / 2
                    },
                    invisible: true,
                    draggable: true,
                    ondrag: echarts.util.curry(onNatureConservancyPointDragging, dataIndex),
                    ondragend: echarts.util.curry(onNatureConservancyDragEnd, dataIndex),
                    onmousemove: echarts.util.curry(showNatureConservancyTooltip, dataIndex),
                    onmouseout: echarts.util.curry(hideNatureConservancyTooltip, dataIndex),
                    z: 100
                };
            })
        });
        natureConservancyOption = natureConservancyChart.getOption();
        natureConservancyChart.setOption(natureConservancyOption);

        let natureConservancyDataPositions = [];
        for(i=0;i<natureConservancyOption.series[0].data.length;i++){
            natureConservancyDataPositions[i] = natureConservancyChart.getOption().graphic[0].elements[i].position;
        }

        window.addEventListener('resize', function () {
            natureConservancyChart.setOption({
                graphic: echarts.util.map(scenarios.natureConservancy.conversionRate, function (item, dataIndex) {
                    return {
                        position: natureConservancyChart.convertToPixel('grid', item)
                    };
                })
            });
        });

        function showNatureConservancyTooltip(dataIndex) {
            natureConservancyChart.dispatchAction({
                type: 'showTip',
                seriesIndex: 0,
                dataIndex: dataIndex
            });
        }

        function hideNatureConservancyTooltip(dataIndex) {
            natureConservancyChart.dispatchAction({
                type: 'hideTip'
            });
        }

        function onNatureConservancyPointDragging(dataIndex, dx, dy) {
            //console.log(facultyGrowthDataPairs);
            natureConservancyDataPositions = [];
            for(i=0;i<natureConservancyOption.series[0].data.length;i++){
                natureConservancyDataPositions[i] = natureConservancyChart.getOption().graphic[0].elements[i].position;
            };
            data = scenarios.natureConservancy.conversionRate;
            data[dataIndex] = natureConservancyChart.convertFromPixel('grid', [natureConservancyDataPositions[dataIndex][0],this.position[1]]);
            if(data[dataIndex][1]>yMaxNatureConservancy){
                data[dataIndex][1] = yMaxNatureConservancy;
            }else if(data[dataIndex][1]<yMinNatureConservancy){
                data[dataIndex][1] = yMinNatureConservancy;
            };
            natureConservancyOption = natureConservancyChart.getOption();
            natureConservancyOption.graphic[0].elements[dataIndex].position = natureConservancyChart.convertToPixel('grid',data[dataIndex]);
            scenarios.natureConservancy.conversionRate = data;
            natureConservancyOption.series[0].data = scenarios.natureConservancy.conversionRate;
            natureConservancyChart.setOption(natureConservancyOption);
        }
        
        function onNatureConservancyDragEnd(){
            refreshScenarios();
        }
          
          
          
        
        refreshBAU();
        rescale();
        $('body').removeClass('cloak');
        /*$( "#tabs" ).tabs();
        $("#scenarios").tabs().addClass( "ui-tabs-vertical ui-helper-clearfix" );
        $( "#tabs li" ).addClass( "ui-corner-left" );  */
		  
	  //console.log(SavingsVCostPlot.getOption(SavingsVCostPlotOption));
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//Functions
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~        
        $(window).on('resize',function(){
            resizeCharts();
        })
        $(window).on('load',function(){
            resizeCharts();
        })
        function resizeCharts(){
            //resize filler row
            $("#financesFillerRow1").height($("#emissionsButtonsRow").height());
            $("#financesFillerRow2").height($("#emissionsNormalizationButtons").height());
            //refresh options
            normalizedEmissionsPlotOption = normalizedEmissionsPlot.getOption();
           /* MACPlotOption = MACPlot.getOption();*/
            //dispose of existing charts to make room for the new ones
            campusSqft1908PieChart.dispose();
            campusSqft2018PieChart.dispose();
            campusSqft2050PieChart.dispose();
            studentGrowthChart.dispose();
            facultyGrowthChart.dispose();
            researchGrowthChart.dispose();
            wedgePlot.dispose();
            scopesWedgePlot.dispose();
            normalizedEmissionsPlot.dispose();
            MACPlot.dispose();
            SavingsVCostPlot.dispose();
            netCostPlot.dispose();
            ledChart.dispose();
            solarRoofChart.dispose();
            smartLabsChart.dispose();
            electricFleetChart.dispose();
            electricCommuteChart.dispose();
            natureConservancyChart.dispose();
            //get correct chart width and set plot areas to this
            let pieColumnWidth = $("#1908PieCol").width();
            let growthPlotColumnWidth = $("#studentGrowthPlotColumn").width();
            let scenarioColumnWidth = $("#scenarioContentColumn").width();
            let emissionsColumnWidth = $("#emissionsColumn").width();
            let financesColumnWidth = $("#financesColumn").width();
            let projectBtnsHeight = $("#projectBtns").height();
            let demoBtnHeight = $("#demoBtnRow").height();
            let demoBtnWidth = $("#demoBtnRow").width();
            $('#campusSqft1908PiePlot').width(pieColumnWidth);
            $('#campusSqft1908PiePlot').height(pieColumnWidth);
            $('#campusSqft2018PiePlot').width(pieColumnWidth);
            $('#campusSqft2018PiePlot').height(pieColumnWidth);
            $('#campusSqft2050PiePlot').width(pieColumnWidth);
            $('#campusSqft2050PiePlot').height(pieColumnWidth);
            $('#studentGrowthPlot').width(growthPlotColumnWidth);
            $('#studentGrowthPlot').height(growthPlotColumnWidth*0.5);
            $('#facultyGrowthPlot').width(growthPlotColumnWidth);
            $('#facultyGrowthPlot').height(growthPlotColumnWidth*0.5);
            $('#researchGrowthPlot').width(growthPlotColumnWidth);
            $('#researchGrowthPlot').height(growthPlotColumnWidth*0.5);
            $('#wedgePlot').width(emissionsColumnWidth);
            $('#scopesWedgePlot').width(emissionsColumnWidth);
            $('#normalizedEmissionsPlot').width(emissionsColumnWidth);
            $('#MACPlot').width(financesColumnWidth);
            $('#SavingsVCostPlot').width(financesColumnWidth);
            $('#netCostPlot').width(financesColumnWidth);
            $('#ledPlot').width(scenarioColumnWidth);
            $('#solarRoofPlot').width(scenarioColumnWidth);
            $('#smartLabsPlot').width(scenarioColumnWidth);
            $('#electricFleetPlot').width(scenarioColumnWidth);
            $('#electricCommutePlot').width(scenarioColumnWidth);
            $('#natureConservancyPlot').width(scenarioColumnWidth);
            $('#ledCarousel').height(projectBtnsHeight);
            $('#solarRoofCarousel').height(projectBtnsHeight);
            $('#plantAutomationCarousel').height(projectBtnsHeight);
            $('#commissioningCarousel').height(projectBtnsHeight);
            $('.carouselImg').height(Math.min(projectBtnsHeight-demoBtnHeight,0.666*demoBtnWidth));
            //get correct chart height and set plot areas to this
            /*let chartHeight = 300;
            if($(window).height() == $(document).height()){
                console.log('Big window: ' + $(window).height())
                chartHeight = ($(window).height()-$("#siteHeader").height()-$("#tab2Banner").height()-$("#emissionsButtonsRow").height()-$("#emissionsColumnHeader").height())/2*.80;
            }else{
                console.log('Big column')
            }
            $('#wedgePlot').height(chartHeight);
            $('#scopesWedgePlot').height(chartHeight);
            $('#MACPlot').height(chartHeight);
            $('#SavingsVCostPlot').height(chartHeight);*/
            //recreate charts and link to plot areas
            campusSqft1908PieChart = echarts.init(document.getElementById('campusSqft1908PiePlot'));
            campusSqft1908PieChart.setOption(campusSqft1908PieOption);
            campusSqft2018PieChart = echarts.init(document.getElementById('campusSqft2018PiePlot'));
            campusSqft2018PieChart.setOption(campusSqft2018PieOption);
            campusSqft2050PieChart = echarts.init(document.getElementById('campusSqft2050PiePlot'));
            campusSqft2050PieChart.setOption(campusSqft2050PieOption);
            studentGrowthChart = echarts.init(document.getElementById('studentGrowthPlot'));
            studentGrowthChart.setOption(studentGrowthOption);
            facultyGrowthChart = echarts.init(document.getElementById('facultyGrowthPlot'));
            facultyGrowthChart.setOption(facultyGrowthOption);
            researchGrowthChart = echarts.init(document.getElementById('researchGrowthPlot'));
            researchGrowthChart.setOption(researchGrowthOption);
            wedgePlot = echarts.init(document.getElementById('wedgePlot'));
            wedgePlot.setOption(wedgePlotOption);
            wedgePlot = echarts.init(document.getElementById('wedgePlot'));
            wedgePlot.setOption(wedgePlotOption);
            scopesWedgePlot = echarts.init(document.getElementById('scopesWedgePlot'));
            scopesWedgePlot.setOption(scopesWedgePlotOption);
            normalizedEmissionsPlot = echarts.init(document.getElementById('normalizedEmissionsPlot')); 
            normalizedEmissionsPlot.setOption(normalizedEmissionsPlotOption);
            MACPlot = echarts.init(document.getElementById('MACPlot'));
            /*MACPlot.setOption(updateMACPlot(scenarios,MACPlotOption,$("#calculationPeriodSlider").val()));*/
            MACPlot.setOption(MACPlotOption);
            SavingsVCostPlot = echarts.init(document.getElementById('SavingsVCostPlot'));
            SavingsVCostPlot.setOption(SavingsVCostPlotOption);
            netCostPlot = echarts.init(document.getElementById('netCostPlot'));
            netCostPlot.setOption(netCostPlotOption);
            ledChart = echarts.init(document.getElementById('ledPlot'));
            ledChart.setOption(ledOption);
            solarRoofChart = echarts.init(document.getElementById('solarRoofPlot'));
            solarRoofChart.setOption(solarRoofOption);
            smartLabsChart = echarts.init(document.getElementById('smartLabsPlot'));
            smartLabsChart.setOption(smartLabsOption);
            electricFleetChart = echarts.init(document.getElementById('electricFleetPlot'));
            electricFleetChart.setOption(electricFleetOption);
            electricCommuteChart = echarts.init(document.getElementById('electricCommutePlot'));
            electricCommuteChart.setOption(electricCommuteOption);
            natureConservancyChart = echarts.init(document.getElementById('natureConservancyPlot'));
            natureConservancyChart.setOption(natureConservancyOption);
            resetProjectDataPoints();
        }
        function resetProjectDataPoints(){
            studentGrowthChart.setOption({
                graphic: echarts.util.map(BAUGrowth.studentGrowth.selected, function (item, dataIndex) {
                    return {
                        position: studentGrowthChart.convertToPixel('grid', item)
                    };
                })
            });
            facultyGrowthChart.setOption({
                graphic: echarts.util.map(BAUGrowth.facultyGrowth.selected, function (item, dataIndex) {
                    return {
                        position: facultyGrowthChart.convertToPixel('grid', item)
                    };
                })
            });
            researchGrowthChart.setOption({
                graphic: echarts.util.map(BAUGrowth.researchGrowth.selected, function (item, dataIndex) {
                    return {
                        position: researchGrowthChart.convertToPixel('grid', item)
                    };
                })
            });
            ledChart.setOption({
                graphic: echarts.util.map(scenarios.led.conversionRate, function (item, dataIndex) {
                    return {
                        position: ledChart.convertToPixel('grid', item)
                    };
                })
            });
            solarRoofChart.setOption({
                graphic: echarts.util.map(scenarios.solarRoof.implementationRate, function (item, dataIndex) {
                    return {
                        position: solarRoofChart.convertToPixel('grid', item)
                    };
                })
            });
            smartLabsChart.setOption({
                graphic: echarts.util.map(scenarios.smartLabs.conversionRate, function (item, dataIndex) {
                    return {
                        position: smartLabsChart.convertToPixel('grid', item)
                    };
                })
            });
            electricFleetChart.setOption({
                graphic: echarts.util.map(scenarios.electricFleet.conversionRate, function (item, dataIndex) {
                    return {
                        position: electricFleetChart.convertToPixel('grid', item)
                    };
                })
            });
            electricCommuteChart.setOption({
                graphic: echarts.util.map(scenarios.electricCommute.conversionRate, function (item, dataIndex) {
                    return {
                        position: electricCommuteChart.convertToPixel('grid', item)
                    };
                })
            });
            natureConservancyChart.setOption({
                graphic: echarts.util.map(scenarios.natureConservancy.conversionRate, function (item, dataIndex) {
                    return {
                        position: natureConservancyChart.convertToPixel('grid', item)
                    };
                })
            });
        }
          $(function(){
            $(".tooltiptext").click(function(){
                $("#tabs").tabs("option","active",2);
                if($(this).hasClass('show')){
                    $n.removeClass('show'); 
                    $("#emissionScopes").css('background', 'yellow'); //change second element background
                    setTimeout(function() {
                        $("#emissionScopes").animate({backgroundColor: 'none'},'slow'); // change it back after ...
                    }, 1000); // waiting five seconds
                }else if($(this).hasClass("bauDefn")){
                    $("#bauDefn").css('background', 'yellow'); //change second element background
                    setTimeout(function() {
                        $("#bauDefn").animate({backgroundColor: 'none'},'slow'); // change it back after ...
                    }, 1000); // waiting five seconds
                }else if($(this).hasClass("electrictyEmissions")){
                    $("#electricityEmissions").css('background', 'yellow'); //change second element background
                    setTimeout(function() {
                        $("#electricityEmissions").animate({backgroundColor: 'none'},'slow'); // change it back after ...
                    }, 1000); // waiting five seconds
                }else if($(this).hasClass("GTCarbonNeutrality")){
                    $("#GTCarbonNeutrality").css('background', 'yellow'); //change second element background
                    setTimeout(function() {
                        $("#GTCarbonNeutrality").animate({backgroundColor: 'none'},'slow'); // change it back after ...
                    }, 1000); // waiting five seconds
                }else if($(this).hasClass("systemDegradation")){
                    $("#systemDegradation").css('background', 'yellow'); //change second element background
                    setTimeout(function() {
                        $("#systemDegradation").animate({backgroundColor: 'none'},'slow'); // change it back after ...
                    }, 1000); // waiting five seconds
                }else if($(this).hasClass("maxSystemDegradation")){
                    $("#maxSystemDegradation").css('background', 'yellow'); //change second element background
                    setTimeout(function() {
                        $("#maxSystemDegradation").animate({backgroundColor: 'none'},'slow'); // change it back after ...
                    }, 1000); // waiting five seconds
                }
            })
            
        })
        $("#tab1").click(function(){
            $("#tab1").removeClass('inactiveTab');
            $("#tab2").removeClass('activeTab');
            $("#tab3").removeClass('activeTab');
            $("#tab1").addClass('activeTab');
            $("#tab2").addClass('inactiveTab');
            $("#tab3").addClass('inactiveTab');
            setTimeout(function(){resizeCharts()},500)
        })
         $("#tab2").click(function(){
            $("#tab1").removeClass('activeTab');
            $("#tab2").removeClass('inactiveTab');
            $("#tab3").removeClass('activeTab');
            $("#tab1").addClass('inactiveTab');
            $("#tab2").addClass('activeTab');
            $("#tab3").addClass('inactiveTab');
            setTimeout(function(){resizeCharts()},500)
        })
        $("#tab3").click(function(){
            $("#tab1").removeClass('activeTab');
            $("#tab2").removeClass('activeTab');
            $("#tab3").removeClass('inactiveTab');
            $("#tab1").addClass('inactiveTab');
            $("#tab2").addClass('inactiveTab');
            $("#tab3").addClass('activeTab');
        })
        $(function(){
            $("#overviewButton").click(() => {selectProject($("#overviewButton"));$("#takeawayHeader").collapse('hide')});
            $("#ledButton").click(() => {selectProject($("#ledButton"));$("#takeawayHeader").collapse('show')});
            $("#solarRoofButton").click(() => {selectProject($("#solarRoofButton"));$("#takeawayHeader").collapse('show')});
            $("#commissioningButton").click(() => {selectProject($("#commissioningButton"));$("#takeawayHeader").collapse('show')});
            $("#plantAutomationButton").click(() => {selectProject($("#plantAutomationButton"));$("#takeawayHeader").collapse('show')});
            $("#smartLabsButton").click(() => {selectProject($("#smartLabsButton"));$("#takeawayHeader").collapse('show')});
            $("#electricFleetButton").click(() => {selectProject($("#electricFleetButton"));$("#takeawayHeader").collapse('show')});
            $("#electricCommuteButton").click(() => {selectProject($("#electricCommuteButton"));$("#takeawayHeader").collapse('show')});
            $("#offsetsButton").click(() => {selectProject($("#offsetsButton"));$("#takeawayHeader").collapse('show')});
            $("#codaButton").click(() => {selectProject($("#codaButton"));$("#takeawayHeader").collapse('show')});
        })
        function selectProject(selectedProjectButton){            
            $("#overviewButton").removeClass('activeProject');
            $("#ledButton").removeClass('activeProject');
            $("#solarRoofButton").removeClass('activeProject');
            $("#commissioningButton").removeClass('activeProject');
            $("#plantAutomationButton").removeClass('activeProject');
            $("#smartLabsButton").removeClass('activeProject');
            $("#electricFleetButton").removeClass('activeProject');
            $("#electricCommuteButton").removeClass('activeProject');
            $("#offsetsButton").removeClass('activeProject');
            $("#codaButton").removeClass('activeProject');
            
            $("#overviewButton").addClass('inactiveProject');
            $("#ledButton").addClass('inactiveProject');
            $("#solarRoofButton").addClass('inactiveProject');
            $("#commissioningButton").addClass('inactiveProject');
            $("#plantAutomationButton").addClass('inactiveProject');
            $("#smartLabsButton").addClass('inactiveProject');
            $("#electricFleetButton").addClass('inactiveProject');
            $("#electricCommuteButton").addClass('inactiveProject');
            $("#offsetsButton").addClass('inactiveProject');
            $("#codaButton").addClass('inactiveProject');
            
            selectedProjectButton.removeClass('inactiveProject');
            selectedProjectButton.addClass('activeProject')
        }
        $(function(){
            $("#demoAllProjects").click(function(){
                demoLed();
                demoSolarRoof();
                demoPlantAutomation();
                demoCommissioning();
                demoSmartLabs();
                demoElectricFleet();
                demoElectricCommute();
                demoOffsets();
                demoCoda();
                refreshScenarios();
                $("#demoAllProjects").removeClass('inactiveToggleBtn');
                $("#offAllProjects").removeClass('activeToggleBtn');
                $("#demoAllProjects").addClass('activeToggleBtn');
                $("#offAllProjects").addClass('inactiveToggleBtn');
            })
            $("#offAllProjects").click(function(){
                offLed();
                offSolarRoof();
                offPlantAutomation();
                offCommissioning();
                offSmartLabs();
                offElectricFleet();
                offElectricCommute();
                offOffsets();
                offCoda();
                refreshScenarios();
                $("#demoAllProjects").removeClass('activeToggleBtn');
                $("#offAllProjects").removeClass('inactiveToggleBtn');
                $("#demoAllProjects").addClass('inactiveToggleBtn');
                $("#offAllProjects").addClass('activeToggleBtn');
            })
            $("#demoLed").click(function(){
                demoLed();
                refreshScenarios();
            });
            function demoLed(){
                scenarios.led.conversionRate = [[2008,0],[2013,0],[2018,0],[2023,5],[2028,15],[2033,50],[2038,85],[2043,95],[2050,100]]
                ledOption = ledChart.getOption();
                ledOption.series[0].data = scenarios.led.conversionRate;
                ledChart.setOption(ledOption);
                ledChart.setOption({
                    graphic: echarts.util.map(scenarios.led.conversionRate, function (item, dataIndex) {
                        return {
                            position: ledChart.convertToPixel('grid', item)
                        };
                    })
                });
                $("#demoLed").removeClass('inactiveToggleBtn');
                $("#offLed").removeClass('activeToggleBtn');
                $("#demoLed").addClass('activeToggleBtn');
                $("#offLed").addClass('inactiveToggleBtn');
            }
            $("#offLed").click(function(){
                offLed();
                refreshScenarios();
            });
            function offLed(){
                scenarios.led.conversionRate = [[2008,0],[2013,0],[2018,0],[2023,0],[2028,0],[2033,0],[2038,0],[2043,0],[2050,0]]
                ledOption = ledChart.getOption();
                ledOption.series[0].data = scenarios.led.conversionRate;
                ledChart.setOption(ledOption);
                ledChart.setOption({
                    graphic: echarts.util.map(scenarios.led.conversionRate, function (item, dataIndex) {
                        return {
                            position: ledChart.convertToPixel('grid', item)
                        };
                    })
                });
                $("#demoLed").removeClass('activeToggleBtn');
                $("#offLed").removeClass('inactiveToggleBtn');
                $("#demoLed").addClass('inactiveToggleBtn');
                $("#offLed").addClass('activeToggleBtn');
            }
            $("#demoSolarRoof").click(function(){
                demoSolarRoof();
                refreshScenarios();
            });
            function demoSolarRoof(){
                scenarios.solarRoof.implementationRate = [[2008,0],[2013,0],[2018,0],[2023,5],[2028,15],[2033,50],[2038,85],[2043,95],[2050,100]]
                solarRoofOption = solarRoofChart.getOption();
                solarRoofOption.series[0].data = scenarios.solarRoof.implementationRate;
                solarRoofChart.setOption(solarRoofOption);
                solarRoofChart.setOption({
                    graphic: echarts.util.map(scenarios.solarRoof.implementationRate, function (item, dataIndex) {
                        return {
                            position: solarRoofChart.convertToPixel('grid', item)
                        };
                    })
                });
                $("#demoSolarRoof").removeClass('inactiveToggleBtn');
                $("#offSolarRoof").removeClass('activeToggleBtn');
                $("#demoSolarRoof").addClass('activeToggleBtn');
                $("#offSolarRoof").addClass('inactiveToggleBtn');
            }
            $("#offSolarRoof").click(function(){
                offSolarRoof();
                refreshScenarios();
            });
            function offSolarRoof(){
                scenarios.solarRoof.implementationRate = [[2008,0],[2013,0],[2018,0],[2023,00],[2028,0],[2033,0],[2038,0],[2043,0],[2050,0]]
                solarRoofOption = solarRoofChart.getOption();
                solarRoofOption.series[0].data = scenarios.solarRoof.implementationRate;
                solarRoofChart.setOption(solarRoofOption);
                solarRoofChart.setOption({
                    graphic: echarts.util.map(scenarios.solarRoof.implementationRate, function (item, dataIndex) {
                        return {
                            position: solarRoofChart.convertToPixel('grid', item)
                        };
                    })
                });
                $("#demoSolarRoof").removeClass('activeToggleBtn');
                $("#offSolarRoof").removeClass('inactiveToggleBtn');
                $("#demoSolarRoof").addClass('inactiveToggleBtn');
                $("#offSolarRoof").addClass('activeToggleBtn');
            }
            $("#demoPlantAutomation").click(function(){
                demoPlantAutomation();
                refreshScenarios();
            });
            function demoPlantAutomation(){
                scenarios.plantAutomation.enabled = true;
                $("#demoPlantAutomation").removeClass('inactiveToggleBtn');
                $("#offPlantAutomation").removeClass('activeToggleBtn');
                $("#demoPlantAutomation").addClass('activeToggleBtn');
                $("#offPlantAutomation").addClass('inactiveToggleBtn');
            }
            $("#offPlantAutomation").click(function(){
                offPlantAutomation();
                refreshScenarios();
            });
            function offPlantAutomation(){
                scenarios.plantAutomation.enabled = false;
                $("#demoPlantAutomation").removeClass('activeToggleBtn');
                $("#offPlantAutomation").removeClass('inactiveToggleBtn');
                $("#demoPlantAutomation").addClass('inactiveToggleBtn');
                $("#offPlantAutomation").addClass('activeToggleBtn');
            }
            $("#demoCommissioning").click(function(){
                demoCommissioning();
                refreshScenarios();
            });
            function demoCommissioning(){
                scenarios.commissioning.frequency = 9;
                $("#demoCommissioning").removeClass('inactiveToggleBtn');
                $("#offCommissioning").removeClass('activeToggleBtn');
                $("#demoCommissioning").addClass('activeToggleBtn');
                $("#offCommissioning").addClass('inactiveToggleBtn');
                commissioningFrequencyChange();
            }
            $("#offCommissioning").click(function(){
                offCommissioning();
                refreshScenarios();
            });
            function offCommissioning(){
                scenarios.commissioning.frequency = 50;
                $("#demoCommissioning").removeClass('activeToggleBtn');
                $("#offCommissioning").removeClass('inactiveToggleBtn');
                $("#demoCommissioning").addClass('inactiveToggleBtn');
                $("#offCommissioning").addClass('activeToggleBtn');
                commissioningFrequencyChange();
            }
            $("#demoSmartLabs").click(function(){
                demoSmartLabs();
                refreshScenarios();
            });
            function demoSmartLabs(){
                scenarios.smartLabs.conversionRate = [[2008,0],[2013,0],[2018,0],[2023,5],[2028,15],[2033,50],[2038,85],[2043,95],[2050,100]]
                smartLabsOption = smartLabsChart.getOption();
                smartLabsOption.series[0].data = scenarios.smartLabs.conversionRate;
                smartLabsChart.setOption(smartLabsOption);
                smartLabsChart.setOption({
                    graphic: echarts.util.map(scenarios.smartLabs.conversionRate, function (item, dataIndex) {
                        return {
                            position: smartLabsChart.convertToPixel('grid', item)
                        };
                    })
                });
                $("#demoSmartLabs").removeClass('inactiveToggleBtn');
                $("#offSmartLabs").removeClass('activeToggleBtn');
                $("#demoSmartLabs").addClass('activeToggleBtn');
                $("#offSmartLabs").addClass('inactiveToggleBtn');
            }
            $("#offSmartLabs").click(function(){
                offSmartLabs();
                refreshScenarios();
            });
            function offSmartLabs(){
                scenarios.smartLabs.conversionRate = [[2008,0],[2013,0],[2018,0],[2023,0],[2028,0],[2033,0],[2038,0],[2043,0],[2050,0]]
                smartLabsOption = smartLabsChart.getOption();
                smartLabsOption.series[0].data = scenarios.smartLabs.conversionRate;
                smartLabsChart.setOption(smartLabsOption);
                smartLabsChart.setOption({
                    graphic: echarts.util.map(scenarios.smartLabs.conversionRate, function (item, dataIndex) {
                        return {
                            position: smartLabsChart.convertToPixel('grid', item)
                        };
                    })
                });
                $("#demoSmartLabs").removeClass('activeToggleBtn');
                $("#offSmartLabs").removeClass('inactiveToggleBtn');
                $("#demoSmartLabs").addClass('inactiveToggleBtn');
                $("#offSmartLabs").addClass('activeToggleBtn');
            }
            $("#demoElectricFleet").click(function(){
                demoElectricFleet();
                refreshScenarios();
            });
            function demoElectricFleet(){
                scenarios.electricFleet.conversionRate = [[2008,0],[2013,0],[2018,0],[2023,5],[2028,15],[2033,50],[2038,85],[2043,95],[2050,100]]
                electricFleetOption = electricFleetChart.getOption();
                electricFleetOption.series[0].data = scenarios.electricFleet.conversionRate;
                electricFleetChart.setOption(electricFleetOption);
                electricFleetChart.setOption({
                    graphic: echarts.util.map(scenarios.electricFleet.conversionRate, function (item, dataIndex) {
                        return {
                            position: electricFleetChart.convertToPixel('grid', item)
                        };
                    })
                });
                $("#demoElectricFleet").removeClass('inactiveToggleBtn');
                $("#offElectricFleet").removeClass('activeToggleBtn');
                $("#demoElectricFleet").addClass('activeToggleBtn');
                $("#offElectricFleet").addClass('inactiveToggleBtn');
            }
            $("#demoElectricCommute").click(function(){
                demoElectricCommute();
                refreshScenarios();
            });
            function demoElectricCommute(){
                scenarios.electricCommute.conversionRate = [[2008,0],[2013,0],[2018,0],[2023,5],[2028,15],[2033,50],[2038,85],[2043,95],[2050,100]]
                electricCommuteOption = electricCommuteChart.getOption();
                electricCommuteOption.series[0].data = scenarios.electricCommute.conversionRate;
                electricCommuteChart.setOption(electricCommuteOption);
                electricCommuteChart.setOption({
                    graphic: echarts.util.map(scenarios.electricCommute.conversionRate, function (item, dataIndex) {
                        return {
                            position: electricCommuteChart.convertToPixel('grid', item)
                        };
                    })
                });
                $("#demoElectricCommute").removeClass('inactiveToggleBtn');
                $("#offElectricCommute").removeClass('activeToggleBtn');
                $("#demoElectricCommute").addClass('activeToggleBtn');
                $("#offElectricCommute").addClass('inactiveToggleBtn');
            }
            $("#offElectricFleet").click(function(){
                offElectricFleet();
                refreshScenarios();
            });
            function offElectricFleet(){
                scenarios.electricFleet.conversionRate = [[2008,0],[2013,0],[2018,0],[2023,0],[2028,0],[2033,0],[2038,0],[2043,0],[2050,0]]
                electricFleetOption = electricFleetChart.getOption();
                electricFleetOption.series[0].data = scenarios.electricFleet.conversionRate;
                electricFleetChart.setOption(electricFleetOption);
                electricFleetChart.setOption({
                    graphic: echarts.util.map(scenarios.electricFleet.conversionRate, function (item, dataIndex) {
                        return {
                            position: electricFleetChart.convertToPixel('grid', item)
                        };
                    })
                });
                $("#demoElectricFleet").removeClass('activeToggleBtn');
                $("#offElectricFleet").removeClass('inactiveToggleBtn');
                $("#demoElectricFleet").addClass('inactiveToggleBtn');
                $("#offElectricFleet").addClass('activeToggleBtn');
            }
            $("#offElectricCommute").click(function(){
                offElectricCommute();
                refreshScenarios();
            })
            function offElectricCommute(){
                scenarios.electricCommute.conversionRate = [[2008,0],[2013,0],[2018,0],[2023,0],[2028,0],[2033,0],[2038,0],[2043,0],[2050,0]]
                electricCommuteOption = electricCommuteChart.getOption();
                electricCommuteOption.series[0].data = scenarios.electricCommute.conversionRate;
                electricCommuteChart.setOption(electricCommuteOption);
                electricCommuteChart.setOption({
                    graphic: echarts.util.map(scenarios.electricCommute.conversionRate, function (item, dataIndex) {
                        return {
                            position: electricCommuteChart.convertToPixel('grid', item)
                        };
                    })
                });
                $("#demoElectricCommute").removeClass('activeToggleBtn');
                $("#offElectricCommute").removeClass('inactiveToggleBtn');
                $("#demoElectricCommute").addClass('inactiveToggleBtn');
                $("#offElectricCommute").addClass('activeToggleBtn');
            }
            $("#demoOffsets").click(function(){
                demoOffsets();
                refreshScenarios();
            });
            function demoOffsets(){
                scenarios.natureConservancy.conversionRate = [[2008,0],[2013,0],[2018,0],[2023,5],[2028,15],[2033,50],[2038,85],[2043,95],[2050,100]]
                natureConservancyOption = natureConservancyChart.getOption();
                natureConservancyOption.series[0].data = scenarios.natureConservancy.conversionRate;
                natureConservancyChart.setOption(natureConservancyOption);
                natureConservancyChart.setOption({
                    graphic: echarts.util.map(scenarios.natureConservancy.conversionRate, function (item, dataIndex) {
                        return {
                            position: natureConservancyChart.convertToPixel('grid', item)
                        };
                    })
                });
                $("#demoOffsets").removeClass('inactiveToggleBtn');
                $("#offOffsets").removeClass('activeToggleBtn');
                $("#demoOffsets").addClass('activeToggleBtn');
                $("#offOffsets").addClass('inactiveToggleBtn');
            }
            $("#offOffsets").click(function(){
                offOffsets();
                refreshScenarios();
            });
            function offOffsets(){
                scenarios.natureConservancy.conversionRate = [[2008,0],[2013,0],[2018,0],[2023,0],[2028,0],[2033,0],[2038,0],[2043,0],[2050,0]]
                natureConservancyOption = natureConservancyChart.getOption();
                natureConservancyOption.series[0].data = scenarios.natureConservancy.conversionRate;
                natureConservancyChart.setOption(natureConservancyOption);
                natureConservancyChart.setOption({
                    graphic: echarts.util.map(scenarios.natureConservancy.conversionRate, function (item, dataIndex) {
                        return {
                            position: natureConservancyChart.convertToPixel('grid', item)
                        };
                    })
                });
                $("#demoOffsets").removeClass('activeToggleBtn');
                $("#offOffsets").removeClass('inactiveToggleBtn');
                $("#demoOffsets").addClass('inactiveToggleBtn');
                $("#offOffsets").addClass('activeToggleBtn');
            }
            $("#demoCoda").click(function(){
                demoCoda();
                refreshScenarios();
            });
            function demoCoda(){
                scenarios.coda.enabled = true;
                $("#demoCoda").removeClass('inactiveToggleBtn');
                $("#offCoda").removeClass('activeToggleBtn');
                $("#demoCoda").addClass('activeToggleBtn');
                $("#offCoda").addClass('inactiveToggleBtn');
            }
            $("#offCoda").click(function(){
                offCoda();
                refreshScenarios();
            });
            function offCoda(){
                scenarios.coda.enabled = false;
                $("#demoCoda").removeClass('activeToggleBtn');
                $("#offCoda").removeClass('inactiveToggleBtn');
                $("#demoCoda").addClass('inactiveToggleBtn');
                $("#offCoda").addClass('activeToggleBtn');
            }
        })
          
        $(function(){
            $("input[name='radio']").change(function(){
                studentGrowthOption.series[0].symbolSize = 0;
                facultyGrowthOption.series[0].symbolSize = 0;
                researchGrowthOption.series[0].symbolSize = 0;
                if($("input[name='radio']:checked").val()=="averageGrowth"){
                    BAUGrowth.studentGrowth.selected = BAUGrowth.studentGrowth.average;
                    BAUGrowth.facultyGrowth.selected = BAUGrowth.facultyGrowth.average;
                    BAUGrowth.researchGrowth.selected = BAUGrowth.researchGrowth.average;
                }else if($("input[name='radio']:checked").val()=="studentFocus"){
                    //alert('studentFocus');
                    BAUGrowth.studentGrowth.selected = BAUGrowth.studentGrowth.high;
                    BAUGrowth.facultyGrowth.selected = BAUGrowth.facultyGrowth.low;
                    BAUGrowth.researchGrowth.selected = BAUGrowth.researchGrowth.low;
                }else if($("input[name='radio']:checked").val()=="researchFocus"){
                    BAUGrowth.studentGrowth.selected = BAUGrowth.studentGrowth.low;
                    BAUGrowth.facultyGrowth.selected = BAUGrowth.facultyGrowth.high;
                    BAUGrowth.researchGrowth.selected = BAUGrowth.researchGrowth.high;
                }else{
                    /*studentGrowthOption.series[0].symbolSize = 10;
                    facultyGrowthOption.series[0].symbolSize = 10;
                    researchGrowthOption.series[0].symbolSize = 10;
                    BAUGrowth.studentGrowth.selected = BAUGrowth.studentGrowth.custom;
                    BAUGrowth.facultyGrowth.selected = BAUGrowth.facultyGrowth.custom;
                    BAUGrowth.researchGrowth.selected = BAUGrowth.researchGrowth.custom;*/
                }
                refreshBAU();
            })
        })
        $(function(){
            $("#elecEF").change(function(){
                if($("#elecEF").val()=="baseline"){
                    emissions.emissionsFactors.selected = emissions.emissionsFactors.baseline;
                }else if($("#elecEF").val()=="highGas"){
                    //alert('highGas');
                    emissions.emissionsFactors.selected = emissions.emissionsFactors.highGas;
                }else if($("#elecEF").val()=="lowGas"){
                    emissions.emissionsFactors.selected = emissions.emissionsFactors.lowGas;
                }else if($("#elecEF").val()=="highEcon"){
                    emissions.emissionsFactors.selected = emissions.emissionsFactors.highEcon;
                }else if($("#elecEF").val()=="lowEcon"){
                    emissions.emissionsFactors.selected = emissions.emissionsFactors.lowEcon;
                }else if($("#elecEF").val()=="lowGas"){
                    emissions.emissionsFactors.selected = emissions.emissionsFactors.lowGas;
                }else if($("#elecEF").val()=="GaPower"){
                    emissions.emissionsFactors.selected = emissions.emissionsFactors.GaPower2014;
                }
                refreshBAU();
            })
        })
        let emissionsEnergy = 'emissions';
        function rescale(){
            wedgePlotOption = wedgePlot.getOption();
            scopesWedgePlotOption = scopesWedgePlot.getOption();
            //console.log(wedgePlotOption.legend[0].selected['Remaining Emissions'])
            //console.log(emissions.totalEmissions);
            let displayedEmissions = [...emissions.totalEmissions];
            displayedEmissions = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
            if(wedgePlotOption.legend[0].selected['Net'] == true){
                displayedEmissions = elementWiseAdd(displayedEmissions,wedgePlotOption.series[0].data);
            }
            if(wedgePlotOption.legend[0].selected['P1'] == true){
                displayedEmissions = elementWiseAdd(displayedEmissions,wedgePlotOption.series[1].data);
            }
            if(wedgePlotOption.legend[0].selected['P2'] == true){
                displayedEmissions = elementWiseAdd(displayedEmissions,wedgePlotOption.series[2].data);
            }
            if(wedgePlotOption.legend[0].selected['P3'] == true){
                displayedEmissions = elementWiseAdd(displayedEmissions,wedgePlotOption.series[3].data);
            }
            if(wedgePlotOption.legend[0].selected['P4'] == true){
                displayedEmissions = elementWiseAdd(displayedEmissions,wedgePlotOption.series[4].data);
            }
            if(wedgePlotOption.legend[0].selected['P5'] == true){
                displayedEmissions = elementWiseAdd(displayedEmissions,wedgePlotOption.series[5].data);
            }
            if(wedgePlotOption.legend[0].selected['P6'] == true){
                displayedEmissions = elementWiseAdd(displayedEmissions,wedgePlotOption.series[6].data);
            }
            if(wedgePlotOption.legend[0].selected['P7'] == true){
                displayedEmissions = elementWiseAdd(displayedEmissions,wedgePlotOption.series[7].data);
            }
            if(wedgePlotOption.legend[0].selected['P8'] == true){
                displayedEmissions = elementWiseAdd(displayedEmissions,wedgePlotOption.series[8].data);
            }
            wedgePlotOption.yAxis[0].max = Math.ceil(displayedEmissions.reduce(function(a,b){return Math.max(a,b)})/10)*10;
            wedgePlot.setOption(wedgePlotOption);

            let scopesDisplayedEmissions = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
            if(scopesWedgePlotOption.legend[0].selected['Scope 1'] == true){
                scopesDisplayedEmissions = elementWiseAdd(scopesDisplayedEmissions,scopesWedgePlotOption.series[0].data);
            }
            if(scopesWedgePlotOption.legend[0].selected['Scope 2'] == true){
                scopesDisplayedEmissions = elementWiseAdd(scopesDisplayedEmissions,scopesWedgePlotOption.series[1].data);
            }
            if(scopesWedgePlotOption.legend[0].selected['Scope 3'] == true){
                scopesDisplayedEmissions = elementWiseAdd(scopesDisplayedEmissions,scopesWedgePlotOption.series[2].data);
            }
            scopesWedgePlotOption.yAxis[0].max = Math.ceil(scopesDisplayedEmissions.reduce(function(a,b){return Math.max(a,b)})/10)*10;
            //console.log(wedgePlotOption);
            /*wedgePlotOption.series[0].data = emissions.scope1;
            wedgePlotOption.series[1].data = emissions.scope2;
            wedgePlotOption.series[2].data = emissions.scope3;*/
            scopesWedgePlot.setOption(scopesWedgePlotOption);
        }
        $("#reScale").click(function(){
            rescale();
        })
        
        $("#emissionsWedgePlot").click(function(){
            $("#emissionsWedgePlot").css("backgroundColor","rgb(180,180,180)")
            $("#energyWedgePlot").css("backgroundColor","rgb(225,225,225)")
            emissionsEnergy = 'emissions';
            wedgePlotOption = wedgePlot.getOption();
            wedgePlotOption.title[0].text = 'Emissions by Project';
            wedgePlotOption.yAxis = [
                {
                    type : 'value',
                    name: 'Emissions (Metric kTons CO2e)',
                    nameLocation: 'middle',
                    nameGap: 40,
                    min: 0,
                    max:800
                }
            ],
            wedgePlot.setOption(wedgePlotOption);

            scopesWedgePlotOption = scopesWedgePlot.getOption();
            scopesWedgePlotOption.title[0].text = 'Emissions by Scope';
            scopesWedgePlotOption.yAxis = [
                {
                    type : 'value',
                    name: 'Emissions (Metric kTons CO2e)',
                    nameLocation: 'middle',
                    nameGap: 40,
                    min: 0,
                    max:800
                }
            ],
            scopesWedgePlot.setOption(scopesWedgePlotOption)
            
            refreshScenarios();
            rescale();
        })
        $("#energyWedgePlot").click(function(){
            $("#energyWedgePlot").css("backgroundColor","rgb(180,180,180)")
            $("#emissionsWedgePlot").css("backgroundColor","rgb(225,225,225)")
            emissionsEnergy = 'energy';
            wedgePlotOption = wedgePlot.getOption();
            wedgePlotOption.title[0].text = 'Energy by Project';
            wedgePlotOption.yAxis = [
                {
                    type : 'value',
                    name: 'Energy Consumption (GWh)',
                    nameLocation: 'middle',
                    nameGap: 40,
                    min: 0,
                    max:1500
                }
            ],
            wedgePlot.setOption(wedgePlotOption);


            scopesWedgePlotOption = scopesWedgePlot.getOption();
            scopesWedgePlotOption.title[0].text = 'Energy by Scope';
            scopesWedgePlotOption.yAxis = [
                {
                    type : 'value',
                    name: 'Energy Consumption (GWh)',
                    nameLocation: 'middle',
                    nameGap: 40,
                    min: 0,
                    max:1500
                }
            ],
            scopesWedgePlot.setOption(scopesWedgePlotOption);

            refreshScenarios();
            rescale();
        });
        $("#normalizeBySqft").click(function(){
            $("#normalizeByStudent").removeClass('activeToggleBtn');
            $("#normalizeBySqft").removeClass('inactiveToggleBtn');
            $("#normalizeByStudent").addClass('inactiveToggleBtn');
            $("#normalizeBySqft").addClass('activeToggleBtn');
            refreshScenarios();
        });
        $("#normalizeByStudent").click(function(){
            $("#normalizeBySqft").removeClass('activeToggleBtn');
            $("#normalizeByStudent").removeClass('inactiveToggleBtn');
            $("#normalizeBySqft").addClass('inactiveToggleBtn');
            $("#normalizeByStudent").addClass('activeToggleBtn');
            refreshScenarios();
        })
        $(function(){
            $("#solarOption").change(function(){
                scenarios.solarRoof.selected = $("#solarOption").val();
                refreshScenarios();
            })
        })
        $(function(){
            $("#degradationFactor").change(function(){
                BAUGrowth.degradation.degradationFactor = $("#degradationFactor").val();
                $("#degradationFactorInput").text($("#degradationFactor").val());
                refreshBAU();
                refreshScenarios();
            })
            $("#maxDegradation").change(function(){
                BAUGrowth.degradation.maxDegradation = $("#maxDegradation").val();
                $("#maxDegradationInput").text($("#maxDegradation").val());
                refreshBAU();
                refreshScenarios();
            })
        })
        $(function(){
            $("#commissioningSlider").change(function(){
                scenarios.commissioning.frequency = $("#commissioningSlider").val();
                $("#commissioningSliderInput").text($("#commissioningSlider").val());
                refreshScenarios();
            })
        })
        function commissioningFrequencyChange(){
                $("#commissioningSlider").val(scenarios.commissioning.frequency);
                $("#commissioningSliderInput").text(scenarios.commissioning.frequency);
            }
        $(function(){
            $("#plantAutomationSliderEUI").change(function(){
                scenarios.plantAutomation.plantEUIReduction=$("#plantAutomationSliderEUI").val();  
                $("#plantAutomationEUISliderInput").text($("#plantAutomationSliderEUI").val());
                refreshScenarios();
            })
        })
        $(function(){
            $("#smartLabsSlider").change(function(){
                scenarios.smartLabs.energyReduction = $("#smartLabsSlider").val();
                $("#smartLabsSliderInput").text($("#smartLabsSlider").val());
                refreshScenarios();
            })
        }) 
        $(function(){
            $("#electricCommuteChargeRate").change(function(){
                scenarios.electricCommute.chargeRate = $("#electricCommuteChargeRate").val()/100;
                $("#electricCommuteChargeRateInput").text($("#electricCommuteChargeRate").val());
                refreshScenarios();
            })
        })
		$(function(){
			$("#costOfOffsets").change(function(){
				scenarios.natureConservancy.costPerKTonCO2 = $("#costOfOffsets").val()*1000;
                $("#costOfOffsetsDisplay").text($("#costOfOffsets").val());
				refreshScenarios();
			})
		})
		$(function(){
			$("#laborCostSlider").change(function(){
				scenarios.led.staffWage = $("#laborCostSlider").val();
                $("#laborCostSliderInput").text($("#laborCostSlider").val());
				refreshScenarios();
			})
		})
		$(function(){
			$("#hoursOfOperationSlider").change(function(){
				scenarios.led.hoursOfLightOperation = $("#hoursOfOperationSlider").val();
                $("#hoursOfOperationSliderInput").text($("#hoursOfOperationSlider").val());
				refreshScenarios();
			})
		})
		$(function(){
			$("#timeToChangeLightSlider").change(function(){
				scenarios.led.timeToChangeBulb = $("#timeToChangeLightSlider").val()/60;
                $("#timeToChangeLightSliderInput").text($("#timeToChangeLightSlider").val());
				refreshScenarios();
			})
		})
		$(function(){
			$("#costOfLEDSlider").change(function(){
				scenarios.led.costPerLedTube = $("#costOfLEDSlider").val()/1000000;
                $("#costOfLEDSliderInput").text($("#costOfLEDSlider").val());
				refreshScenarios();
			})
		})
		$(function(){
			$("#chargerRatioSlider").change(function(){
				scenarios.electricCommute.chargerRatio = $("#chargerRatioSlider").val();
                $("#chargerRatioSliderInput").text($("#chargerRatioSlider").val());
				refreshScenarios();
			})
		})
		$(function(){
			$("#feePerKWhSlider").change(function(){
				scenarios.electricCommute.feePerKWh = $("#feePerKWhSlider").val();
                $("#feePerKWhSliderInput").text($("#feePerKWhSlider").val());
				refreshScenarios();
			})
		})
        $(function(){
			$("#costPerKWSlider").change(function(){
				scenarios.solarRoof.costPerKWGoogle = $("#costPerKWSlider").val();
                scenarios.solarRoof.costPerKWNREL = $("#costPerKWSlider").val();
                $("#costPerKWSliderInput").text($("#costPerKWSlider").val());
				refreshScenarios();
			})
		})
        $(function(){
			$("#commissioningCostSlider").change(function(){
				scenarios.commissioning.costToCommission = Number($("#commissioningCostSlider").val());
                $("#commissioningCostSliderInput").text($("#commissioningCostSlider").val());
				refreshScenarios();
			})
		})
        $(function(){
			$("#plantAutomationSetupCostSlider").change(function(){
				scenarios.plantAutomation.setUpCost = $("#plantAutomationSetupCostSlider").val();
                $("#plantAutomationSetupCostSliderInput").text($("#plantAutomationSetupCostSlider").val());
				refreshScenarios();
			})
		})
        $(function(){
			$("#plantAutomationRecurringCostSlider").change(function(){
				scenarios.plantAutomation.recurringCost = $("#plantAutomationRecurringCostSlider").val();
                $("#plantAutomationRecurringCostSliderInput").text($("#plantAutomationRecurringCostSlider").val());
				refreshScenarios();
			})
		})
        $(function(){
            $("#calculationPeriodSlider").change(function(){
                $("#calculationPeriodSliderInput").text($("#calculationPeriodSlider").val())
                refreshScenarios();
            })
        })
        $(function(){
            $("#smartLabsInitialCostSlider").change(function(){
                scenarios.smartLabs.implementationCost = $("#smartLabsInitialCostSlider").val();
                $("#smartLabsInitialCostSliderInput").text($("#smartLabsInitialCostSlider").val());
                refreshScenarios();
            })
        })
        $(function(){
            $("#smartLabsOperationCostSlider").change(function(){
                scenarios.smartLabs.operatingCost = $("#smartLabsOperationCostSlider").val();
                $("#smartLabsOperationCostSliderInput").text($("#smartLabsOperationCostSlider").val());
                refreshScenarios();
            })
        })
        $(function(){
            $("#codaYearSlider").change(function(){
                scenarios.coda.activationYear = $("#codaYearSlider").val();
                $("#codaYearSliderInput").text($("#codaYearSlider").val());
                refreshScenarios();
            })
        })
        $(function(){
            $("#codaSqftSlider").change(function(){
                scenarios.coda.addSqft = $("#codaSqftSlider").val()*1000000;
                $("#codaSqftSliderInput").text($("#codaSqftSlider").val());
                refreshScenarios();
                rescale();
            })
        })
        $(function(){
            $("#codaEUISlider").change(function(){
                scenarios.coda.eui = $("#codaEUISlider").val();
                $("#codaEUISliderInput").text($("#codaEUISlider").val());
                refreshScenarios();
                rescale();
            })
        })
          
        function refreshBAU(){
            studentGrowthOption = studentGrowthChart.getOption();
            facultyGrowthOption = facultyGrowthChart.getOption();
            researchGrowthOption = researchGrowthChart.getOption();
            
            researchGrowthOption.series[0].data=BAUGrowth.researchGrowth.selected;
            studentGrowthOption.series[0].data=BAUGrowth.studentGrowth.selected;
            facultyGrowthOption.series[0].data=BAUGrowth.facultyGrowth.selected;
            
            studentGrowthChart.setOption(studentGrowthOption);
            facultyGrowthChart.setOption(facultyGrowthOption);
            researchGrowthChart.setOption(researchGrowthOption);
            
             studentGrowthChart.setOption({
                    graphic: echarts.util.map(BAUGrowth.studentGrowth.selected, function (item, dataIndex) {
                        return {
                            position: studentGrowthChart.convertToPixel('grid', item)
                        };
                    })
                });
             facultyGrowthChart.setOption({
                    graphic: echarts.util.map(BAUGrowth.facultyGrowth.selected, function (item, dataIndex) {
                        return {
                            position: facultyGrowthChart.convertToPixel('grid', item)
                        };
                    })
                });
             researchGrowthChart.setOption({
                    graphic: echarts.util.map(BAUGrowth.researchGrowth.selected, function (item, dataIndex) {
                        return {
                            position: researchGrowthChart.convertToPixel('grid', item)
                        };
                    })
                });
            
//            studentGrowthOption = studentGrowthChart.getOption();
//            //studentGrowthOption.graphic[0].elements = [];
//            //studentGrowthChart.setOption(studentGrowthOption,{notMerge:true});
//            
//            facultyGrowthOption = facultyGrowthChart.getOption();
//            facultyGrowthOption.graphic[0].elements = [];
//            //facultyGrowthChart.setOption(facultyGrowthOption,{notMerge:true});
//            
//            researchGrowthOption = researchGrowthChart.getOption();
//            researchGrowthOption.graphic[0].elements = [];
//            //researchGrowthChart.setOption(researchGrowthOption,{notMerge:true});
//                                          
//            studentGrowthChart.setOption({
//                graphic: echarts.util.map(BAUGrowth.studentGrowth.selected, function (item, dataIndex) {
//                    return {
//                        type: 'circle',
//                        position: studentGrowthChart.convertToPixel('grid', item),
//                        shape: {
//                            r: symbolSize / 2
//                        },
//                        invisible: true,
//                        draggable: true,
//                        ondrag: echarts.util.curry(onStudentPointDragging, dataIndex),
//                        ondragend: echarts.util.curry(onStudentDragEnd, dataIndex),
//                        onmousemove: echarts.util.curry(showStudentTooltip, dataIndex),
//                        onmouseout: echarts.util.curry(hideStudentTooltip, dataIndex),
//                        z: 100
//                    };
//                })
//            });
//            facultyGrowthChart.setOption({
//                graphic: echarts.util.map(BAUGrowth.facultyGrowth.selected, function (item, dataIndex) {
//                    return {
//                        type: 'circle',
//                        position: facultyGrowthChart.convertToPixel('grid', item),
//                        shape: {
//                            r: symbolSize / 2
//                        },
//                        invisible: true,
//                        draggable: true,
//                        ondrag: echarts.util.curry(onFacultyPointDragging, dataIndex),
//                        ondragend: echarts.util.curry(onFacultyDragEnd, dataIndex),
//                        onmousemove: echarts.util.curry(showFacultyTooltip, dataIndex),
//                        onmouseout: echarts.util.curry(hideFacultyTooltip, dataIndex),
//                        z: 100
//                    };
//                })
//            });
//            researchGrowthChart.setOption({
//                graphic: echarts.util.map(BAUGrowth.researchGrowth.selected, function (item, dataIndex) {
//                    return {
//                        type: 'circle',
//                        position: researchGrowthChart.convertToPixel('grid', item),
//                        shape: {
//                            r: symbolSize / 2
//                        },
//                        invisible: true,
//                        draggable: true,
//                        ondrag: echarts.util.curry(onResearchPointDragging, dataIndex),
//                        ondragend: echarts.util.curry(onResearchDragEnd, dataIndex),
//                        onmousemove: echarts.util.curry(showResearchTooltip, dataIndex),
//                        onmouseout: echarts.util.curry(hideResearchTooltip, dataIndex),
//                        z: 100
//                    };
//                })
//            });
            
            buildingSpace = calculateSqft(buildingSpace,BAUGrowth);
            emissions = calculateBaselineEmissions(buildingSpace,emissions,scenarios);
			[buildingSpace, emissions] = calculateEmissions(buildingSpace,emissions,scenarios);
           /* campusSqftChart.setOption(option);*/
            campusSqft2050PieOption.series[0].data = [
                {
                    name:'Resid',
                    itemStyle: {
                        color: 'rgba(128, 0, 0,.8)'
                    },
                    value:buildingSpace.residLayer.sqft[buildingSpace.residLayer.sqft.length-1]
                },
                {
                    name:'Class',
                    itemStyle: {
                        color: 'rgba(0, 73, 144,.8)'
                    },
                    value:buildingSpace.classLayer.sqft[buildingSpace.classLayer.sqft.length-1]
                },
                {
                    name:'Lab',
                    itemStyle: {
                        color: 'rgba(0, 148, 96,.8)'
                    },
                    value:buildingSpace.labLayer.sqft[buildingSpace.labLayer.sqft.length-1]
                },
                {
                    name:'Other',
                    itemStyle: {
                        color: 'rgba(128, 128, 128,.8)'
                    },
                    value:elementWiseAdd(elementWiseAdd(buildingSpace.healthLayer.sqft,buildingSpace.plantLayer.sqft),buildingSpace.other.sqft)[buildingSpace.labLayer.sqft.length-1]
                }
            ];
            $("#2050PieTitle").text('2050 - ' + Math.round(buildingSpace.totalSqft[42]/1000000) + ' MMsqft');
            campusSqft2050PieOption.series[0].radius = Math.sqrt(Math.round(buildingSpace.totalSqft[42]/1000000)/22)*.8*100 + '%';
            campusSqft2050PieChart.setOption(campusSqft2050PieOption);
            wedgePlot.setOption(wedgePlotOption);
            scopesWedgePlot.setOption(scopesWedgePlotOption);
            normalizedEmissionsPlotOption = normalizedEmissionsPlot.getOption();
            normalizedEmissionsPlot.setOption(normalizedEmissionsPlotOption);
            
            $("#totalEmissionsDisplay").text(Math.round(sumArray(emissions.scope1,33) + sumArray(emissions.scope2,33) + sumArray(emissions.scope3,33)));
            $("#2050EmissionsDisplay").text(Math.round(emissions.scope1[emissions.scope1.length-1] + emissions.scope2[emissions.scope2.length-1] + emissions.scope3[emissions.scope3.length-1]));
            
			$("#totalCostDisplay").text(Math.round(sumArray(scenarios.led.getNetCost()[0],$("#calculationPeriodSlider").val())*100 + sumArray(scenarios.natureConservancy.getNetCost()[0],$("#calculationPeriodSlider").val())*100 + sumArray(scenarios.plantAutomation.getNetCost()[0],$("#calculationPeriodSlider").val())*100 + sumArray(scenarios.solarRoof.getNetCost()[0],$("#calculationPeriodSlider").val())*100 + sumArray(scenarios.commissioning.getNetCost()[0],$("#calculationPeriodSlider").val())*100 + sumArray(scenarios.electricFleet.getNetCost()[0],$("#calculationPeriodSlider").val())*100 + sumArray(scenarios.electricCommute.getNetCost()[0],$("#calculationPeriodSlider").val())*100 + sumArray(scenarios.smartLabs.getNetCost()[0],$("#calculationPeriodSlider").val())*100)/100);
			
            $("#2050CostDisplay").text(Math.round(scenarios.led.getNetCost()[0][buildingSpace.year.length-1]*100 + scenarios.natureConservancy.getNetCost()[0][buildingSpace.year.length-1]*100 + scenarios.plantAutomation.getNetCost()[0][buildingSpace.year.length-1]*100 +  scenarios.solarRoof.getNetCost()[0][buildingSpace.year.length-1]*100 + scenarios.commissioning.getNetCost()[0][buildingSpace.year.length-1]*100 + scenarios.electricFleet.getNetCost()[0][buildingSpace.year.length-1]*100 + scenarios.electricCommute.getNetCost()[0][buildingSpace.year.length-1]*100 + scenarios.smartLabs.getNetCost()[0][buildingSpace.year.length-1]*100)/100);
        };
        
        function refreshScenarios(){
            /*ledKFactors = scenarios.led.getKFactors();
            buildingSpace.classLayer.lightEUI = multiply(buildingSpace.classLayer.lightEUIBase,ledKFactors);
            buildingSpace.residLayer.lightEUI = multiply(buildingSpace.residLayer.lightEUIBase,ledKFactors);
            buildingSpace.healthLayer.lightEUI = multiply(buildingSpace.healthLayer.lightEUIBase,ledKFactors);
            buildingSpace.labLayer.lightEUI = multiply(buildingSpace.labLayer.lightEUIBase,ledKFactors);*/
            
			buildingSpace = calculateSqft(buildingSpace,BAUGrowth);
            [buildingSpace, emissions] = calculateEmissions(buildingSpace,emissions,scenarios);
            //wedgePlotOption.series[1].data = emissions.scope2;
            wedgePlotOption = wedgePlot.getOption();
            scopesWedgePlotOption = scopesWedgePlot.getOption();
            normalizedEmissionsPlotOption = normalizedEmissionsPlot.getOption();
            if(emissionsEnergy==='emissions'){
                wedgePlotOption.series[0].data = [...emissions.totalEmissions];
                wedgePlotOption.series[1].data = [...scenarios.led.getNetCost()[1]];
                wedgePlotOption.series[2].data = [...scenarios.solarRoof.getNetCost()[1]];
                wedgePlotOption.series[3].data = [...scenarios.commissioning.getNetCost()[1]];
                wedgePlotOption.series[4].data = [...scenarios.plantAutomation.getNetCost()[1]];
                wedgePlotOption.series[5].data = [...scenarios.smartLabs.getNetCost()[1]];
                wedgePlotOption.series[6].data = [...scenarios.electricFleet.getNetCost()[1]];
                wedgePlotOption.series[7].data = [...scenarios.electricCommute.getNetCost()[1]];
                wedgePlotOption.series[8].data = [...scenarios.natureConservancy.getNetCost()[1]];
                
                scopesWedgePlotOption.series[0].data = [...emissions.scope1];
                scopesWedgePlotOption.series[1].data = [...emissions.scope2];
                scopesWedgePlotOption.series[2].data = [...emissions.scope3];
                
                if($('#normalizeBySqft').hasClass('activeToggleBtn')){
                    normalizedEmissionsPlotOption.series[0].data = divide(multiply(emissions.totalEmissions,[1000]),divide(buildingSpace.totalSqft,[1000]));
                    normalizedEmissionsPlotOption.title[0].text = 'Normalized Emissions';
                    normalizedEmissionsPlotOption.yAxis = [
                        {
                            name: 'Emissions Per 1000sqft (tons/1000sqft)',
                        }
                    ];
                }else if($('#normalizeBySqft').hasClass('inactiveToggleBtn')){
                    normalizedEmissionsPlotOption.series[0].data = divide(multiply(emissions.totalEmissions,[1000]),parseValues(interpolateArray(BAUGrowth.studentGrowth.selected)));
                    normalizedEmissionsPlotOption.title[0].text = 'Normalized Emissions';
                    normalizedEmissionsPlotOption.yAxis = [
                        {
                            name: 'Emissions Per Student (tons/student)',
                        }
                    ];
                }
            }else if(emissionsEnergy==='energy'){
                wedgePlotOption.series[0].data = divide(elementWiseAdd(emissions.totalEmissions,scenarios.natureConservancy.getNetCost()[1]),emissions.emissionsFactors.selected);
                wedgePlotOption.series[1].data = divide([...scenarios.led.getNetCost()[1]],emissions.emissionsFactors.selected);
                wedgePlotOption.series[2].data = divide([...scenarios.solarRoof.getNetCost()[1]],emissions.emissionsFactors.selected);
                wedgePlotOption.series[3].data = divide([...scenarios.commissioning.getNetCost()[1]],emissions.emissionsFactors.selected);
                wedgePlotOption.series[4].data = divide([...scenarios.plantAutomation.getNetCost()[1]],emissions.emissionsFactors.selected);
                wedgePlotOption.series[5].data = divide([...scenarios.smartLabs.getNetCost()[1]],emissions.emissionsFactors.selected);
                wedgePlotOption.series[6].data = divide([...scenarios.electricFleet.getNetCost()[1]],emissions.emissionsFactors.selected);
                wedgePlotOption.series[7].data = divide([...scenarios.electricCommute.getNetCost()[1]],emissions.emissionsFactors.selected);
                wedgePlotOption.series[8].data = 0;
                
                let realOffsets = scenarios.natureConservancy.conversionRate;
                scenarios.natureConservancy.conversionRate = [[2008,0],[2013,0],[2018,0],[2023,0],[2028,0],[2033,0],[2038,0],[2043,0],[2050,0]];
                [buildingSpace, emissions] = calculateEmissions(buildingSpace,emissions,scenarios);
                scopesWedgePlotOption.series[0].data = divide(elementWiseAdd(emissions.scope1,[...scenarios.natureConservancy.getNetCost()[1]]),emissions.emissionsFactors.selected);
                scopesWedgePlotOption.series[1].data = divide(elementWiseAdd(emissions.scope2,[...scenarios.natureConservancy.getNetCost()[1]]),emissions.emissionsFactors.selected);
                scopesWedgePlotOption.series[2].data = divide(elementWiseAdd(emissions.scope3,[...scenarios.natureConservancy.getNetCost()[1]]),emissions.emissionsFactors.selected);
                scenarios.natureConservancy.conversionRate = realOffsets;
                [buildingSpace, emissions] = calculateEmissions(buildingSpace,emissions,scenarios);
                
                if($('#normalizeBySqft').hasClass('activeToggleBtn')){
                    normalizedEmissionsPlotOption.series[0].data = divide(buildingSpace.kWh,buildingSpace.totalSqft);
                    normalizedEmissionsPlotOption.title[0].text = 'Normalized Energy';
                    normalizedEmissionsPlotOption.yAxis = [
                        {
                            name: 'Energy Per Sqft (kWh/sqft)',
                        }
                    ];
                }else if($('#normalizeBySqft').hasClass('inactiveToggleBtn')){
                    normalizedEmissionsPlotOption.series[0].data = divide(buildingSpace.kWh,parseValues(interpolateArray(BAUGrowth.studentGrowth.selected)));
                    normalizedEmissionsPlotOption.title[0].text = 'Normalized Energy';
                    normalizedEmissionsPlotOption.yAxis = [
                        {
                            name: 'Energy Per Student (kWh/student)',
                        }
                    ];
                }
            }
            wedgePlot.setOption(wedgePlotOption);
            scopesWedgePlot.setOption(scopesWedgePlotOption);
            normalizedEmissionsPlot.setOption(normalizedEmissionsPlotOption);
            
            MACPlotOption = updateMACPlot(scenarios,MACPlotOption,$("#calculationPeriodSlider").val());
			MACPlot.setOption(MACPlotOption);
            
			SavingsVCostPlotOption.series[0].data = [[NaN,NaN],[sumArray(scenarios.led.getNetCost()[3],$("#calculationPeriodSlider").val()),sumArray(scenarios.led.getNetCost()[2],$("#calculationPeriodSlider").val())]];
			SavingsVCostPlotOption.series[1].data = [[NaN,NaN],[sumArray(scenarios.solarRoof.getNetCost()[3],$("#calculationPeriodSlider").val()),sumArray(scenarios.solarRoof.getNetCost()[2],$("#calculationPeriodSlider").val())]];
			SavingsVCostPlotOption.series[2].data = [[NaN,NaN],[sumArray(scenarios.commissioning.getNetCost()[3],$("#calculationPeriodSlider").val()),sumArray(scenarios.commissioning.getNetCost()[2],$("#calculationPeriodSlider").val())]];
			SavingsVCostPlotOption.series[3].data = [[NaN,NaN],[sumArray(scenarios.plantAutomation.getNetCost()[3],$("#calculationPeriodSlider").val()),sumArray(scenarios.plantAutomation.getNetCost()[2],$("#calculationPeriodSlider").val())]];
            SavingsVCostPlotOption.series[4].data = [[NaN,NaN],[sumArray(scenarios.smartLabs.getNetCost()[3],$("#calculationPeriodSlider").val()),sumArray(scenarios.smartLabs.getNetCost()[2],$("#calculationPeriodSlider").val())]];
			SavingsVCostPlotOption.series[5].data = [[NaN,NaN],[sumArray(scenarios.electricFleet.getNetCost()[3],$("#calculationPeriodSlider").val()),sumArray(scenarios.electricFleet.getNetCost()[2],$("#calculationPeriodSlider").val())]];
			SavingsVCostPlotOption.series[6].data = [[NaN,NaN],[sumArray(scenarios.electricCommute.getNetCost()[3],$("#calculationPeriodSlider").val()),sumArray(scenarios.electricCommute.getNetCost()[2],$("#calculationPeriodSlider").val())]];
			SavingsVCostPlot.setOption(SavingsVCostPlotOption);	
            
            netCostPlotOption.series[0].data = elementWiseAdd(elementWiseAdd(elementWiseAdd(elementWiseAdd(elementWiseAdd(elementWiseAdd(elementWiseAdd(scenarios.led.getNetCost()[0],scenarios.natureConservancy.getNetCost()[0]),scenarios.plantAutomation.getNetCost()[0]),scenarios.solarRoof.getNetCost()[0]),scenarios.commissioning.getNetCost()[0]),scenarios.electricFleet.getNetCost()[0]),scenarios.electricCommute.getNetCost()[0]),scenarios.smartLabs.getNetCost()[0]);
            netCostPlot.setOption(netCostPlotOption);
            
            $("#totalEmissionsDisplay").text(Math.round(sumArray(emissions.scope1,33) + sumArray(emissions.scope2,33) + sumArray(emissions.scope3,33)));
            $("#2050EmissionsDisplay").text(Math.round(emissions.scope1[emissions.scope1.length-1] + emissions.scope2[emissions.scope2.length-1] + emissions.scope3[emissions.scope3.length-1]));
            
			$("#totalCostDisplay").text(Math.round(sumArray(scenarios.led.getNetCost()[0],$("#calculationPeriodSlider").val())*100 + sumArray(scenarios.natureConservancy.getNetCost()[0],$("#calculationPeriodSlider").val())*100 + sumArray(scenarios.plantAutomation.getNetCost()[0],$("#calculationPeriodSlider").val())*100 + sumArray(scenarios.solarRoof.getNetCost()[0],$("#calculationPeriodSlider").val())*100 + sumArray(scenarios.commissioning.getNetCost()[0],$("#calculationPeriodSlider").val())*100 + sumArray(scenarios.electricFleet.getNetCost()[0],$("#calculationPeriodSlider").val())*100 + sumArray(scenarios.electricCommute.getNetCost()[0],$("#calculationPeriodSlider").val())*100 + sumArray(scenarios.smartLabs.getNetCost()[0],$("#calculationPeriodSlider").val())*100)/100);
			
            $("#2050CostDisplay").text(Math.round(scenarios.led.getNetCost()[0][buildingSpace.year.length-1]*100 + scenarios.natureConservancy.getNetCost()[0][buildingSpace.year.length-1]*100 + scenarios.plantAutomation.getNetCost()[0][buildingSpace.year.length-1]*100 +  scenarios.solarRoof.getNetCost()[0][buildingSpace.year.length-1]*100 + scenarios.commissioning.getNetCost()[0][buildingSpace.year.length-1]*100 + scenarios.electricFleet.getNetCost()[0][buildingSpace.year.length-1]*100 + scenarios.electricCommute.getNetCost()[0][buildingSpace.year.length-1]*100 + scenarios.smartLabs.getNetCost()[0][buildingSpace.year.length-1]*100)/100);
        };
    } );
    </script>
    

</body>
    
    
</html>